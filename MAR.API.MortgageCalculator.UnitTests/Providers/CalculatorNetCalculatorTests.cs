using FluentAssertions;
using MAR.API.MortgageCalculator.Logic.Interfaces;
using MAR.API.MortgageCalculator.Logic.Providers;
using MAR.API.MortgageCalculator.Model.Requests;
using MAR.API.MortgageCalculator.Model.Results;
using Microsoft.Extensions.Logging;
using Microsoft.Extensions.Logging.Abstractions;
using Moq;
using Moq.Protected;
using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using System.Net;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Text;
using System.Threading;
using System.Threading.Tasks;
using Xunit;
using Xunit.Abstractions;

namespace MAR.API.MortgageCalculator.UnitTests.Services
{
    public class CalculatorNetCalculatorTests : ProviderBaseTestClass
    {
        IHttpClientProvider _httpClientProvider;
        ILoggerFactory _loggerFactory;

        public CalculatorNetCalculatorTests(ITestOutputHelper consoleLogger)
            : base(consoleLogger)
        {
            _loggerFactory = new NullLoggerFactory();
        }

        [Theory]
        [ClassData(typeof(CalculatorNetCalculatorPositiveTestData))]
        public void Should_calculate_successfully(string testCaseDescription, string html, MortgageCalculationResult expectedResult)
        {
            ConsoleLogger.WriteLine($"Test Case: {testCaseDescription}");
            SetupHttpClientProvider(html);
            var provider = new CalculateNetCalculatorProvider(
                _loggerFactory,
                MockValidationMessagesLocalizer.Object,
                MockErrorMessagesLocalizer.Object,
                _httpClientProvider,
                expectedResult.Request);

            var actualResult = provider.PerformCalculation();

            actualResult.Should().NotBeNull().And.BeOfType(typeof(MortgageCalculationResult));
            if (actualResult.Errors?.Any() == true)
            {
                ConsoleLogger.WriteLine("--- Unexpected Errors ---");
                actualResult.Errors.ForEach((e) => { ConsoleLogger.WriteLine(e); });
            }
            if (actualResult.ValidationErrors?.Any() == true)
            {
                ConsoleLogger.WriteLine("--- Unexpected Validation Errors ---");
                actualResult.Errors.ForEach((e) => { ConsoleLogger.WriteLine(e); });
            }
            AssertThatResultsMatch(expectedResult, actualResult as MortgageCalculationResult);
        }

        [Theory]
        [ClassData(typeof(CalculatorNetCalculatorValidationFailureTestData))]
        public void Should_fail_validation(string testCaseDescription, MortgageCalculationRequest request, List<string> expectedValidationErrors)
        {
            ConsoleLogger.WriteLine($"Test Case: {testCaseDescription}");
            SetupHttpClientProvider(string.Empty);
            var provider = new CalculateNetCalculatorProvider(
                _loggerFactory,
                MockValidationMessagesLocalizer.Object,
                MockErrorMessagesLocalizer.Object,
                _httpClientProvider,
                request);

            var actualResult = provider.PerformCalculation();

            actualResult.Should().NotBeNull().And.BeOfType(typeof(MortgageCalculationResult));
            if (actualResult.Errors?.Any() == true)
            {
                ConsoleLogger.WriteLine("--- Unexpected Errors ---");
                actualResult.Errors.ForEach((e) => { ConsoleLogger.WriteLine(e); });
                actualResult.Errors.Any().Should().BeFalse();
            }
            actualResult.IsSuccessful.Should().BeFalse();
            actualResult.ValidationErrors?.Any().Should().BeTrue();
            actualResult.ValidationErrors.Count.Should().Be(expectedValidationErrors.Count);
            expectedValidationErrors.ForEach(expected =>
            {
                actualResult.ValidationErrors.SingleOrDefault(actual => actual == expected).Should().NotBeNull($"{expected} should be in the validation error list");
            });
        }

        private void AssertThatResultsMatch(MortgageCalculationResult expectedResult, MortgageCalculationResult actualResult)
        {
            //Request
            actualResult.Request.Should().NotBeNull();
            actualResult.IsSuccessful.Should().Be(expectedResult.IsSuccessful);
            actualResult.Request.APR.Should().Be(expectedResult.Request.APR);
            actualResult.Request.DownPaymentPercent.Should().Be(expectedResult.Request.DownPaymentPercent);
            actualResult.Request.HOAMonthly.Should().Be(expectedResult.Request.HOAMonthly);
            actualResult.Request.HomeownerInsuranceRate.Should().Be(expectedResult.Request.HomeownerInsuranceRate);
            actualResult.Request.LoanTermYears.Should().Be(expectedResult.Request.LoanTermYears);
            actualResult.Request.PropertyTaxRate.Should().Be(expectedResult.Request.PropertyTaxRate);
            actualResult.Request.PurchasePrice.Should().Be(expectedResult.Request.PurchasePrice);

            //Calculation data
            actualResult.DownPayment.Should().Be(expectedResult.DownPayment);
            actualResult.Errors?.Count.Should().Be(expectedResult.Errors?.Count);
            foreach (var expectedError in expectedResult.Errors)
            {
                actualResult.Errors.SingleOrDefault(e => string.Equals(expectedError, e))
                    .Should().NotBeNull($"the error '{expectedError}' should be in the error list");
            }
            actualResult.HOAAnnual.Should().Be(actualResult.Request.HOAMonthly * 12, "annual should be 12x monthly");
            actualResult.HOAAnnual.Should().Be(expectedResult.HOAAnnual);
            actualResult.HomeownersInsurancePaymentMonthly.Should().Be(expectedResult.HomeownersInsurancePaymentMonthly);
            actualResult.MortgagePaymentyMonthly.Should().Be(expectedResult.MortgagePaymentyMonthly);
            actualResult.PropertyTaxPaymentMonthly.Should().Be(expectedResult.PropertyTaxPaymentMonthly);
            actualResult.TermInterestPaid.Should().Be(expectedResult.TermInterestPaid);
            actualResult.TotalCostOfLoan.Should().Be(actualResult.Request.PurchasePrice - actualResult.DownPayment + actualResult.TermInterestPaid);
            actualResult.TotalCostOfLoan.Should().Be(expectedResult.TotalCostOfLoan);
            actualResult.TotalMonthlyPayment.Should().Be(expectedResult.TotalMonthlyPayment);
            actualResult.ValidationErrors?.Count.Should().Be(expectedResult.ValidationErrors?.Count);
            foreach (var expectedError in expectedResult.ValidationErrors)
            {
                actualResult.ValidationErrors.SingleOrDefault(e => string.Equals(expectedError, e))
                    .Should().NotBeNull($"the error '{expectedError}' should be in the validation error list");
            }
        }

        private class CalculatorNetCalculatorPositiveTestData : IEnumerable<object[]>
        {
            private string GetBaseCaseTestDataHtml()
            {
                return "<html>\r\n<head>\t<title>Mortgage Calculator</title>\r\n\t<meta name=\"description\" content=\"Free mortgage calculator to find monthly payment, total home ownership cost, and amortization schedule of a mortgage with options for taxes, insurance, PMI, HOA, early payoff. Learn about mortgages, experiment with other real estate calculators, or explore many other calculators addressing math, fitness, health, and many more.\" />\r\n\t<script src=\"//d26tpo4cm8sb6k.cloudfront.net/js/common.js\"></script>\r\n\t<link rel=\"stylesheet\" href=\"//d26tpo4cm8sb6k.cloudfront.net/style2.css\" />\n<link rel=\"canonical\" href=\"https://www.calculator.net/mortgage-calculator.html\" />\n\t<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"//d26tpo4cm8sb6k.cloudfront.net/apple-touch-icon.png\">\r\n\t<link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"//d26tpo4cm8sb6k.cloudfront.net/icon-32x32.png\">\r\n\t<link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"//d26tpo4cm8sb6k.cloudfront.net/icon-16x16.png\">\r\n\t<link rel=\"manifest\" href=\"/manifest.json\"><script type=\"text/javascript\" src=\"//d26tpo4cm8sb6k.cloudfront.net/js/jquery.min.js\"></script>\r\n<script src=\"//d26tpo4cm8sb6k.cloudfront.net/highchart/highcharts.js\"></script>\r\n<script src=\"//d26tpo4cm8sb6k.cloudfront.net/js/mortgagenew.js\"></script>\r\n</head><body>\r\n<div id=\"headerout\">\r\n\t<div id=\"header\">\r\n\t\t<div id=\"logo\"><a href=\"/\"><img src=\"//d26tpo4cm8sb6k.cloudfront.net/img/svg/calculator-white.svg\" width=\"208\" height=\"22\"></a></div>\r\n\t\t\t</div>\r\n</div>\r\n<div id=\"clear\"></div><div id=\"contentout\"><div id=\"content\"><div id=\"breadcrumbs\" itemscope itemtype=\"https://schema.org/BreadcrumbList\"><span itemprop=\"itemListElement\" itemscope itemtype=\"https://schema.org/ListItem\"><a href=\"/\" itemprop=\"item\"><span itemprop=\"name\">home</span></a><meta itemprop=\"position\" content=\"1\" /></span> / <span itemprop=\"itemListElement\" itemscope itemtype=\"https://schema.org/ListItem\"><a href=\"/financial-calculator.html\" itemprop=\"item\"><span itemprop=\"name\">financial</span></a><meta itemprop=\"position\" content=\"2\" /></span> / <span itemprop=\"itemListElement\" itemscope itemtype=\"https://schema.org/ListItem\"><a href=\"/mortgage-calculator.html\" itemprop=\"item\"><span itemprop=\"name\">mortgage calculator</span></a><meta itemprop=\"position\" content=\"3\" /></span></div><div id=\"printit\"><a href=\"#\" onClick=\"document.calform.printit.value=1;document.calform.submit();return false;\">Print</a></div>\t\t<h1>Mortgage Calculator</h1>\r\n<table cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\r\n<tr><td valign=\"top\" width=\"310\">\r\n<table class=\"panel\">\r\n<form name=\"calform\" action=\"/mortgage-calculator.html\">\r\n<tr><td align=\"right\">Home Price</td><td align=\"right\"><input type=\"text\" name=\"chouseprice\" id=\"chouseprice\" value=\"100000\" class=\"innormal indollar\"></td><td>&nbsp;</td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcdown\">Down Payment</a></td><td align=\"right\" valign=\"bottom\"><input type=\"text\" name=\"cdownpayment\" id=\"cdownpayment\" value=\"20.00\" class=\"innormal inpct\"></td><td><select name=\"cdownpaymentunit\" onChange=\"cunitchange('cdownpayment', this.value);\"><option value=\"p\" selected>%</option><option value=\"d\">$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mclterm\">Loan Term</a></td><td align=\"right\"><input type=\"text\" name=\"cloanterm\" id=\"cloanterm\" value=\"30\" class=\"innormal\"></td><td>years</td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcinterest\">Interest Rate</a></td><td align=\"right\"><input type=\"text\" name=\"cinterestrate\" id=\"cinterestrate\" value=\"2.75\" class=\"innormal inpct\"></td><td>&nbsp;</td></tr>\r\n<tr><td align=\"right\">Start Date</td><td align=\"left\" colspan=\"2\"><select name=\"cstartmonth\" id=\"cstartmonth\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select> <input type=\"text\" name=\"cstartyear\" id=\"cstartyear\" value=\"2020\" class=\"in4char\"></td></tr>\r\n<tr><td colspan=\"3\"><br><label for=\"caddoptional\" class=\"cbcontainer\"><input type=\"checkbox\" name=\"caddoptional\" id=\"caddoptional\" value=\"1\" checked /><span class=\"cbmark\"></span><b>Include Options Below</b></label></td></tr>\r\n\r\n<tr><td>&nbsp;</td><td colspan=\"2\" align=\"center\" valign=\"bottom\">Annual Tax &amp; Cost</td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcptax\">Property Taxes</a></td><td align=\"right\"><input type=\"text\" name=\"cpropertytaxes\" id=\"cpropertytaxes\" value=\"1.15\" class=\"innormal inpct\"></td><td><select name=\"cpropertytaxesunit\" onChange=\"cunitchange('cpropertytaxes', this.value);\"><option value=\"p\" selected>%</option><option value=\"d\">$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mchins\">Home Insurance</a></td><td align=\"right\"><input type=\"text\" name=\"chomeins\" id=\"chomeins\" value=\"0.22\" class=\"innormal inpct\"></td><td><select name=\"chomeinsunit\" onChange=\"cunitchange('chomeins', this.value);\"><option value=\"p\" selected>%</option><option value=\"d\">$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcpmi\">PMI Insurance</a></td><td align=\"right\"><input type=\"text\" name=\"cpmi\" id=\"cpmi\" value=\"0\" class=\"innormal  indollar\"></td><td><select name=\"cpmiunit\" onChange=\"cunitchange('cpmi', this.value);\"><option value=\"p\">%</option><option value=\"d\" selected>$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mchoa\">HOA Fee</a></td><td align=\"right\"><input type=\"text\" name=\"choa\" id=\"choa\" value=\"0.00\" class=\"innormal  indollar\"></td><td><select name=\"choaunit\" onChange=\"cunitchange('choa', this.value);\"><option value=\"p\">%</option><option value=\"d\" selected>$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcother\">Other Costs</a></td><td align=\"right\"><input type=\"text\" name=\"cothercost\" id=\"cothercost\" value=\"0\" class=\"innormal  indollar\"></td><td><select name=\"cothercostunit\" onChange=\"cunitchange('cothercost', this.value);\"><option value=\"p\">%</option><option value=\"d\" selected>$</option></select></td></tr>\r\n<tr><td colspan=\"3\" align=\"center\">\r\n<div style=\"padding:10px 0px;font-weight:bold;\"><span id=\"cmoreoptionlinks\"><a href=\"#\" onClick=\"cshmoreoption(1);return false;\">+ More Options</a></span><input type=\"hidden\" name=\"cmop\" id=\"cmoreoption\" value=\"0\"></div>\r\n<table id=\"cmoreoptioninputs\" style=\"display: none;\">\r\n\t<tr><td colspan=\"3\" style=\"padding-top:5px;font-weight:bold;\">Annual Tax &amp; Cost Increase</td></tr>\r\n\t<tr><td style=\"padding-left:10px;\">Property Taxes Increase</td><td colspan=\"2\"><input type=\"text\" name=\"cptinc\" value=\"0\" class=\"in4char inpct\"></td></tr>\r\n\t<tr><td style=\"padding-left:10px;\">Home Insurance Increase</td><td colspan=\"2\"><input type=\"text\" name=\"chiinc\" value=\"0\" class=\"in4char inpct\"></td></tr>\r\n\t<tr><td style=\"padding-left:10px;\">HOA Fee Increase</td><td colspan=\"2\"><input type=\"text\" name=\"choainc\" value=\"0\" class=\"in4char inpct\"></td></tr>\r\n\t<tr><td style=\"padding-left:10px;\">Other Costs Increase</td><td colspan=\"2\"><input type=\"text\" name=\"cocinc\" value=\"0\" class=\"in4char inpct\"></td></tr>\r\n\t<tr><td colspan=\"3\" style=\"padding:10px 0px 3px 0px;font-weight:bold;\">Extra Payments</td></tr>\r\n\t<tr><td colspan=\"3\" style=\"padding-left:10px;\">Extra Monthly Pay\r\n\t\t<div style=\"padding-bottom:5px;\"><input type=\"text\" name=\"cexma\" value=\"0\" class=\"innormal indollar\">\r\n\t\tfrom <select name=\"cexmsm\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"cexmsy\" value=\"2020\" class=\"in4char\"></div>\r\n\t</td></tr>\r\n\t<tr><td colspan=\"3\" style=\"padding-left:10px;\">Extra Yearly Pay\r\n\t\t<div style=\"padding-bottom:5px;\"><input type=\"text\" name=\"cexya\" value=\"0\" class=\"innormal indollar\">\r\n\t\tfrom <select name=\"cexysm\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"cexysy\" value=\"2020\" class=\"in4char\"></div>\r\n\t</td></tr>\r\n\t<tr><td colspan=\"3\" style=\"padding-left:10px;\">Extra One-time Pay\r\n\t\t<div><input type=\"text\" name=\"cexoa\" value=\"0\" class=\"innormal indollar\">\r\n\t\tin <select name=\"cexosm\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"cexosy\" value=\"2020\" class=\"in4char\"></div>\r\n\t\t<div id=\"cadditionalonetimelink\" style=\"text-align:center; padding-top:8px;\"><a href=\"#\" onClick=\"cshadditionalonetime(1);return false;\">Additional One-Time Payments</a></div>\r\n\t\t<div id=\"cadditionalonetimediv\" style=\"padding:5px 0px;display: none;\">\r\n\t\t\t<input name=\"caot\" id=\"cadditionalonetime\" value=\"0\" type=\"hidden\">\r\n\t\t\t<input type=\"text\" name=\"xa1\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm1\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy1\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa2\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm2\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy2\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa3\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm3\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy3\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa4\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm4\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy4\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa5\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm5\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy5\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa6\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm6\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy6\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa7\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm7\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy7\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa8\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm8\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy8\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa9\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm9\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy9\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa10\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm10\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy10\" value=\"2020\" class=\"in4char\"><br>\t\t</div>\r\n\r\n\t</td></tr>\r\n\r\n\t<tr><td colspan=\"3\" style=\"padding:10px 0px 6px 0px\">\r\n\t\t<label for=\"csbw\" class=\"cbcontainer\"><input type=\"checkbox\" name=\"csbw\" id=\"csbw\" value=\"1\" checked /><span class=\"cbmark\"></span><b>Show Biweekly Payback Results</b></label>\r\n\t</td></tr>\r\n</table>\r\n<script>\r\ncshmoreoption(0);\r\ncshadditionalonetime(0);\r\n</script>\r\n</td></tr>\r\n<tr><td colspan=\"2\" align=\"right\"><input name=\"printit\" value=\"0\" type=\"hidden\"><input type=\"image\" src=\"//d26tpo4cm8sb6k.cloudfront.net/img/svg/calculate.svg\" value=\"Calculate\" alt=\"Calculate\"></td><td>&nbsp;</td></tr>\r\n</form>\r\n</table>\r\n</td><td valign=\"top\">\r\n<a name=\"results\"></a><table align=\"center\"><tr><td><h2 class=\"h2result\">Monthly Pay: &nbsp; $326.59</h2><table cellpadding='3' width='100%'><tr><td>&nbsp;</td><td align=right><b>Monthly</b></td><td align=right><b>Total</b></td></tr><tr bgcolor='#dddddd'><td><b>Mortgage Payment</b></td><td align=right><b>$326.59</b></td><td align=right><b>$117,573.46</b></td></tr><tr><td><a href=\"#mcptax\">Property Tax</a></td><td align=right>$95.83</td><td align=right>$34,500.00</td></tr><tr><td><a href=\"#mchins\">Home Insurance</a></td><td align=right>$18.33</td><td align=right>$6,600.00</td></tr><tr bgcolor='#dddddd'><td><b>Total Out-of-Pocket</b></td><td align=right>$440.76</td><td align=right>$158,673.46</td></tr><tr><td colspan=\"3\">&nbsp;</td></tr><tr bgcolor='#dddddd'><td colspan='2'><b>House Price</b></td><td align='right'>$100,000.00</td></tr><tr><td colspan='2'>Loan Amount</td><td align='right'>$80,000.00</td></tr><tr><td colspan='2'>Down Payment</td><td align='right'>$20,000.00</td></tr><tr><td colspan='2'>Total of 360 Mortgage Payments</td><td align='right'>$117,573.46</td></tr><tr><td colspan='2'>Total Interest</td><td align='right'>$37,573.46</td></tr><tr><td colspan='2'>Mortgage Payoff Date</td><td align='right'>Nov. 2050</td></tr></table></td></tr></table></td></tr></table>\r\n<div id=\"mRateData\"></div><table width=\"100%\">\r\n\t<tr>\r\n\t\t<td valign=\"top\" width=\"200\">\r\n\t\t\t<br><div class=\"bigtext\" style=\"text-align:center;\"><b>Payments</b></div>\t\t\t<div id=\"cpiechartdiv\" style=\"min-width: 155px; height: 250px; margin: 0 auto\"></div>\r\n\t\t</td>\r\n\t\t<td valign=\"top\">\r\n\t\t\t<br><div class=\"bigtext\" style=\"text-align:center;\"><b>Mortgage Amortization Graph</b></div>\r\n\t\t\t<div id=\"cchartdiv\" style=\"min-width: 370px; height: 250px; margin: 0 auto\"></div>\r\n\t\t</td>\r\n\t</tr>\r\n</table>\r\n<div style=\"padding:10px 0px;text-align:center;\">\r\n</div>\r\n\r\n<div id=\"camortizationschdis\"></div>\r\n\r\n<br><br>\r\n\r\n<p>The Mortgage Calculator helps estimate the monthly payment due along with other financial costs associated with mortgages. There are advanced options to include extra payments or annual percentage increases of common mortgage expenses. The calculator is mainly intended for use by the U.S. residents.</p>\r\n\r\n<h3>Mortgages</h3>\r\n<p>A mortgage is a loan secured by property, usually real estate property. Lenders define it as the money borrowed to pay for real estate. In essence, the lender helps the buyer pay the seller of a house, and the buyer agrees to repay the money borrowed over a period of time, usually 15 or 30 years. Each month, a payment is made from buyer to lender. A portion of the monthly payment is called the principal, which is the original amount borrowed. The other portion is interest, which is the cost paid to the lender for using the money. There may be an escrow account involved to cover the cost of property taxes and insurance. The buyer cannot be considered the full owner of the mortgaged property until the last monthly payment is made. In U.S., the most common loan is the conventional 30-year fixed-interest loan, which represents 70% to 90% of all mortgages. Mortgages are how most people are able to own homes in the U.S.</p>\r\n<p><b>Mortgages are Secured Loans</b></p>\r\n<p>Because a house or purchased property acts as collateral in exchange for the money borrowed to finance the purchase, mortgages fall under the category of secured loans. As a result, failure by the borrower to repay the borrowed money and interest to the lender gives the lender the right to take over the secured property. A foreclosure is a legal process in which a mortgaged property is sold to pay the debt of the borrower who defaulted.</p>\r\n\r\n<h3>Key Components of a Mortgage</h3>\r\n<p>A real estate mortgage usually includes the following key components:</p>\r\n<ul>\r\n\t<li><b>Loan amount</b>&mdash;the amount borrowed from a lender or bank. The maximum loan amount one can borrow normally correlates with household income or affordability. To estimate an affordable amount, please use our <a href=\"/house-affordability-calculator.html\">House Affordability Calculator</a>.</li>\r\n\t<li><a name=\"mcdown\"></a><b>Down payment</b>&mdash;the upfront payment of the purchase, usually a percentage of the total price. In the US, if the down payment is less than 20% of the total property price, typically, private mortgage insurance (PMI) is mandatory until the principal is paid down to less than 80% or 78% of the total property price. The PMI rate normally ranges from 0.3%-1.5% of the total loan amount, depending on various factors. A general rule-of-thumb is that the higher the down payment, the more favorable the interest rate.</li>\r\n\t<li><a name=\"mclterm\"></a><b>Loan term</b>&mdash;the amount of time over which the loan must be repaid in full. The most popular lengths are 30 years and 15 years. Normally, the shorter the loan term, the lower the interest rate.</li>\r\n\t<li><a name=\"mcinterest\"></a><b>Interest rate</b>&mdash;the rate of interest charged by a mortgage lender. It can be fixed (otherwise known as a fixed-rate mortgage, or FRM), or adjustable (otherwise known as an adjustable rate mortgage, or ARM). The calculator above is only usable for fixed rates. For ARMs, interest rates are generally fixed for a period of time, after which they will be periodically adjusted based on market indices. ARMs transfer part of the risk to borrowers. Therefore, the initial interest rates are normally 0.5% to 2% lower than FRM with the same loan term. Mortgage interest rates are normally expressed in Annual Percentage Rate (APR), which is sometimes called nominal APR or effective APR. It is the interest rate expressed as a periodic rate multiplied by the number of compounding periods in a year. For example, if a mortgage rate is 6% APR, it means the borrower will have to pay 6% divided by twelve, which comes out to 0.5% in interest every month. APR will usually have some additional costs rolled in.</li>\r\n</ul>\r\n<p>The most common way to repay a mortgage loan is to make monthly, fixed payments to the lender. The payment contains both the principal and the interest. For a typical 30-year loan, the majority of the payments in the first few years cover the interest.</p>\r\n\r\n<h3>Costs Associated with Home Ownership and Mortgages</h3>\r\n<p>Monthly mortgage payments usually comprise the bulk of the financial costs associated with owning a house, but there are other important costs to keep in mind. These costs are separated into two categories, recurring and non-recurring.</p>\r\n<p><b>Recurring Costs</b></p>\r\n<p>Most recurring costs persist throughout and beyond the life of a mortgage, they are a significant financial factor. Property taxes, home insurance, HOA fees, and other costs increase with time as a byproduct of inflation. There are optional inputs within the calculator for annual percentage increases. Using these can result in more accurate calculations. In some cases, these routine costs combined can be more than the mortgage payment!</p>\r\n<ul>\r\n\t<li><a name=\"mcptax\"></a><b>Property taxes</b>&mdash;a tax that property owners pay to governing authorities. In the U.S., property tax is usually managed by municipal or county government. The annual real estate tax in the U.S. varies by location, normally ranging from 1% to 4% of the property value. In some extreme cases, the tax rate can be 10% or higher.</li>\r\n\t<li><a name=\"mchins\"></a><b>Home insurance</b>&mdash;an insurance policy that protects the owner from accidents that may happen to their private residence or other real estate properties. Home insurance can also contain personal liability coverage, which protects against lawsuits involving injuries that occur on and off the property. The cost of home insurance varies according to factors such as location, condition of property, and coverage amount. Typically, the annual cost can range from 0.1% to 5% of the property value.</li>\r\n\t<li><a name=\"mcpmi\"></a><b>Private mortgage insurance (PMI)</b>&mdash;protects the mortgage lender if the borrower is unable to repay. In the U.S. specifically, if the down payment is less than 20% of the property value, the lender will normally require the borrower to purchase PMI until the loan-to-value ratio (LTV) reaches 80% or 78%. PMI price varies according to factors such as down payment, size of the loan, and credit of the borrower. The annual cost typically ranges from 0.3% to 1.5% of the loan amount.</li>\r\n\t<li><a name=\"mchoa\"></a><b>HOA fee</b>&mdash;a fee that is imposed on the property owner by an organization that maintains and improves the property and environment of the neighborhoods that the specific organization covers. Condominiums, townhomes, and some single-family homes commonly require the payment of HOA fees. Annual HOA fees usually amount to less than one percent of the property value.</li>\r\n\t<li><a name=\"mcother\"></a><b>Other costs</b>&mdash;includes utilities, home maintenance costs, and anything pertaining to the general upkeep of the property. It is common to spend 1% or more of the property value on annual maintenance alone.</li>\r\n</ul>\r\n<p><b>Non-Recurring Costs</b></p>\r\n<p>These costs aren't addressed by the calculator, but they are still important to keep in mind.</p>\r\n<ul>\r\n\t<li><b>Closing costs</b>&mdash;the fees paid at the closing of a real estate transaction. These are not recurring fees, but they can be expensive. In the U.S., the closing cost on a mortgage can include an attorney fee, the title service cost, recording fee, survey fee, property transfer tax, brokerage commission, mortgage application fee, points, appraisal fee, inspection fee, home warranty, pre-paid home insurance, pro-rata property taxes, pro-rata homeowner association dues, pro-rata interest, and more. Sellers will share some of these costs. It is not unusual for a buyer to pay about $10,000 in total closing costs on a $400,000 transaction.</li>\r\n\t<li><b>Initial renovations</b>&mdash;some buyers may choose to renovate before moving in. Examples may be changing the flooring, repainting the walls, updating the kitchen, or even overhauling the entire interior or exterior. These renovations can become costly very quickly.</li>\r\n\t<li><b>Miscellaneous</b>&mdash;New furniture, new appliances, and moving costs are also significant and common non-recurring costs of a home purchase.</li>\r\n</ul>\r\n\r\n<h3>Early Repayment and Extra Payments</h3>\r\n<p>In many situations, mortgage borrowers may want to pay off mortgages earlier rather than later, either in whole or in part, for reasons including but not limited to interest savings, home selling, or refinancing. However, before doing so, it is important to first check with mortgage lenders to see if they accept early or extra payments, as some will have prepayment penalties.</p>\r\n<p><b>Prepayment Penalty</b></p>\r\n<p>A prepayment penalty is an agreement, most likely explained in a mortgage contract, between a borrower and a mortgage lender that regulates what the borrower is allowed to pay off and when. Penalty amounts are usually expressed as a percent of the outstanding balance at the time of prepayment, or a specified number of months of interest. The penalty amount typically decreases with time until it phases out eventually, normally within 5 years.</p>\r\n<p>There are two types of prepayment penalties, soft prepays and hard prepays. A soft prepay allows for the sale of a home without penalty, while a hard prepay penalizes a person for not only selling a home, but also refinancing it. Most mortgage lenders allow borrowers to pay off up to 20% of the loan balance each year. One-time payoff due to home selling is normally exempt from a prepayment penalty. Few lenders charge prepayment penalties in response to the sale or refinancing of a home, but be sure to review the loan terms carefully just in case. FHA loans do not have prepayment penalties.</p>\r\n<p><b>Early Repayment Strategies</b></p>\r\n<p>Aside from paying off the mortgage loan entirely, typically, there are three main strategies that can be used to payback a mortgage loan earlier. Borrowers mainly adopt these strategies to save on interest. These methods can be used in combination or individually.</p>\r\n<ol>\r\n\t<li><b>Refinance to a loan with a shorter term</b>&mdash;Interest rates of shorter term mortgage loans will most likely be lower. This is because in the lenders' eyes, shorter loan lengths are less risky, so they are more willing to provide more favorable interest rates to the borrower. Keep in mind that this imposes higher financial pressure on the borrower due to the higher monthly mortgage payments. Also, there may be fees involved.</li>\r\n\t<li><b>Make extra payments</b>&mdash;on typical long-term mortgage loans, a very big portion of the earlier payments will go towards paying down interest rather than the principal. Any extra payments will decrease the loan balance, thereby decreasing interest, and allowing the borrower to pay off the loan earlier in the long run. Some people form the habit of paying extra every month, while others pay extra whenever they can. There are optional inputs in the Mortgage Calculator to include many extra payments, and it can be helpful to compare the results of supplementing mortgages with or without extra payments.</li>\r\n\t<li><b>Make biweekly (once every two weeks) payments of half month's payment instead</b>&mdash;since there are 52 weeks each year, this is the equivalent of making 13 months of mortgage repayments a year instead of 12. This method is mainly for those who receive their paycheck biweekly. It is easier for them to form a habit of taking a portion from each paycheck to make mortgage payments. Displayed in the calculated results are biweekly payments for comparison purposes.</li>\r\n</ol>\r\n<p><b>Benefits of Early Repayment</b></p>\r\n<p>There are a number of reasons for borrowers to pay off their mortgage sooner, either in whole or in part.</p>\r\n<ul>\r\n\t<li><b>Interest savings</b>&mdash;due to the size and length of the mortgage loan, the savings on interest can be significant.</li>\r\n\t<li><b>Shorter repayment period</b>&mdash;the more additional payments made, particularly early in the life of the loan, the shorter the overall loan term.</li>\r\n\t<li><b>Personal satisfaction</b>&mdash;many people like the feeling of being debt free and having full ownership of a house.</li>\r\n</ul>\r\n<p><b>Drawbacks of Early Repayment</b></p>\r\n<p>While paying off a mortgage earlier may sound like a great idea, it may not make sense in all cases.</p>\r\n<ul>\r\n\t<li><b>The investment opportunity costs may be high</b>&mdash;In the grand scheme of finance, mortgage rates tend to be on the lower end. For instance, paying off a mortgage with 4% interest does not seem so enticing for people that can make 10% or more return on investments.</li>\r\n\t<li><b>Capital locked up in house</b>&mdash;Paying off a mortgage earlier than usual can result in too much money being locked up in a home too fast. While this may be good to some people, it can place financial burdens on borrowers who require a certain level of liquidity to maintain their financial health. In the case of an emergency, it is much easier to access funds in an investment account or bank account rather than funds in the form of home equity. Also, accumulated home equity may be counted against the owner when applying for need-based college aid.</li>\r\n\t<li><b>Lose the tax deduction</b>&mdash;In the U.S., mortgage interest is typically tax deductible. During the earliest years of a mortgage when interest payments are the highest, borrowers may benefit from a sizable deduction, especially if they are in a higher tax bracket. No more mortgage means no related tax deduction any more. Keep in mind that this perk is generally only available to taxpayers who choose to itemize their tax deductions rather than take the standard deduction.</li>\r\n</ul>\r\n\r\n<h3>Brief History of Mortgages in the U.S.</h3>\r\n<p>In the U.S., before the Great Depression, home mortgages were five to ten-year loans offered by private firms that only covered about 50% of a home's value, and the principal was due as a balloon payment at the end of the term. As a result, the prospect of becoming a homeowner as an American then was not as promising as it is today. The modern mortgage got its start in 1934 when the Federal Housing Administration (FHA) sought to find a way to pull the country out of the Great Depression. The FHA introduced a new type of home loan aimed at people who couldn't otherwise get them. Characteristics of these new mortgages included lower down payments, 30-year amortizations, 80 and 90% loan-to-values or higher, and universal standards for home qualification as well as construction standards, which were unheard of at the time. All of these characteristics contributed to mass home-ownership becoming a reality. The ease with which an American could own a home would go on to become one of the many factors known as the American Dream.</p>\r\n\r\n\r\n\n<script>\ngObj(\"mRateData\").innerHTML = '<div style=\"background:#eee;border:1px solid #ccc;padding: 3px;margin:3px;\"><b>Latest Mortgage Rates:</b> <span style=\"font-size:11px;color:#888;\">(U.S. National Average Fixed, Source: BankRate.com, Mar. 12, 2021)</span><br>&nbsp; &nbsp; 30 Years: <a href=\"#\" onClick=\"return setYearRate(\\'3.23\\', \\'30\\');\">3.23%</a> &nbsp; 15 Years: <a href=\"#\" onClick=\"return setYearRate(\\'2.49\\', \\'15\\');\">2.49%</a> &nbsp; 10 Years: <a href=\"#\" onClick=\"return setYearRate(\\'2.4\\', \\'10\\');\">2.4%</a></div>';\n</script>\n<script type=\"text/javascript\">\r\nallData = \"80000.00:79856.74:326.59:183.33:183.33|79856.74:79713.15:326.59:183.01:366.34|79713.15:79569.24:326.59:182.68:549.01|79569.24:79424.99:326.59:182.35:731.36|79424.99:79280.41:326.59:182.02:913.38|79280.41:79135.50:326.59:181.68:1095.06|79135.50:78990.26:326.59:181.35:1276.41|78990.26:78844.69:326.59:181.02:1457.43|78844.69:78698.78:326.59:180.69:1638.12|78698.78:78552.54:326.59:180.35:1818.47|78552.54:78405.96:326.59:180.02:1998.49|78405.96:78259.05:326.59:179.68:2178.17|78259.05:78111.80:326.59:179.34:2357.51|78111.80:77964.21:326.59:179.01:2536.52|77964.21:77816.29:326.59:178.67:2715.18|77816.29:77668.03:326.59:178.33:2893.51|77668.03:77519.42:326.59:177.99:3071.50|77519.42:77370.48:326.59:177.65:3249.15|77370.48:77221.19:326.59:177.31:3426.46|77221.19:77071.56:326.59:176.97:3603.42|77071.56:76921.59:326.59:176.62:3780.05|76921.59:76771.28:326.59:176.28:3956.32|76771.28:76620.62:326.59:175.93:4132.26|76620.62:76469.62:326.59:175.59:4307.85|76469.62:76318.27:326.59:175.24:4483.09|76318.27:76166.57:326.59:174.90:4657.99|76166.57:76014.52:326.59:174.55:4832.53|76014.52:75862.13:326.59:174.20:5006.73|75862.13:75709.39:326.59:173.85:5180.58|75709.39:75556.30:326.59:173.50:5354.09|75556.30:75402.85:326.59:173.15:5527.24|75402.85:75249.06:326.59:172.80:5700.03|75249.06:75094.91:326.59:172.45:5872.48|75094.91:74940.41:326.59:172.09:6044.57|74940.41:74785.56:326.59:171.74:6216.31|74785.56:74630.35:326.59:171.38:6387.69|74630.35:74474.78:326.59:171.03:6558.72|74474.78:74318.86:326.59:170.67:6729.39|74318.86:74162.58:326.59:170.31:6899.71|74162.58:74005.95:326.59:169.96:7069.66|74005.95:73848.95:326.59:169.60:7239.26|73848.95:73691.59:326.59:169.24:7408.50|73691.59:73533.88:326.59:168.88:7577.37|73533.88:73375.80:326.59:168.52:7745.89|73375.80:73217.36:326.59:168.15:7914.04|73217.36:73058.56:326.59:167.79:8081.83|73058.56:72899.39:326.59:167.43:8249.26|72899.39:72739.86:326.59:167.06:8416.32|72739.86:72579.96:326.59:166.70:8583.01|72579.96:72419.70:326.59:166.33:8749.34|72419.70:72259.06:326.59:165.96:8915.31|72259.06:72098.07:326.59:165.59:9080.90|72098.07:71936.70:326.59:165.22:9246.12|71936.70:71774.96:326.59:164.85:9410.98|71774.96:71612.85:326.59:164.48:9575.46|71612.85:71450.37:326.59:164.11:9739.58|71450.37:71287.52:326.59:163.74:9903.32|71287.52:71124.29:326.59:163.37:10066.68|71124.29:70960.69:326.59:162.99:10229.68|70960.69:70796.72:326.59:162.62:10392.29|70796.72:70632.37:326.59:162.24:10554.54|70632.37:70467.64:326.59:161.87:10716.40|70467.64:70302.54:326.59:161.49:10877.89|70302.54:70137.05:326.59:161.11:11039.00|70137.05:69971.19:326.59:160.73:11199.73|69971.19:69804.95:326.59:160.35:11360.08|69804.95:69638.32:326.59:159.97:11520.05|69638.32:69471.32:326.59:159.59:11679.64|69471.32:69303.93:326.59:159.21:11838.85|69303.93:69136.16:326.59:158.82:11997.67|69136.16:68968.00:326.59:158.44:12156.10|68968.00:68799.46:326.59:158.05:12314.16|68799.46:68630.54:326.59:157.67:12471.82|68630.54:68461.22:326.59:157.28:12629.10|68461.22:68291.52:326.59:156.89:12785.99|68291.52:68121.43:326.59:156.50:12942.49|68121.43:67950.95:326.59:156.11:13098.60|67950.95:67780.07:326.59:155.72:13254.32|67780.07:67608.81:326.59:155.33:13409.65|67608.81:67437.15:326.59:154.94:13564.59|67437.15:67265.10:326.59:154.54:13719.13|67265.10:67092.66:326.59:154.15:13873.28|67092.66:66919.82:326.59:153.75:14027.04|66919.82:66746.59:326.59:153.36:14180.39|66746.59:66572.95:326.59:152.96:14333.36|66572.95:66398.92:326.59:152.56:14485.92|66398.92:66224.50:326.59:152.16:14638.08|66224.50:66049.67:326.59:151.76:14789.85|66049.67:65874.44:326.59:151.36:14941.21|65874.44:65698.81:326.59:150.96:15092.17|65698.81:65522.77:326.59:150.56:15242.73|65522.77:65346.34:326.59:150.16:15392.89|65346.34:65169.50:326.59:149.75:15542.64|65169.50:64992.25:326.59:149.35:15691.99|64992.25:64814.60:326.59:148.94:15840.93|64814.60:64636.54:326.59:148.53:15989.46|64636.54:64458.07:326.59:148.13:16137.59|64458.07:64279.20:326.59:147.72:16285.30|64279.20:64099.91:326.59:147.31:16432.61|64099.91:63920.21:326.59:146.90:16579.51|63920.21:63740.10:326.59:146.48:16725.99|63740.10:63559.58:326.59:146.07:16872.06|63559.58:63378.64:326.59:145.66:17017.72|63378.64:63197.29:326.59:145.24:17162.96|63197.29:63015.53:326.59:144.83:17307.79|63015.53:62833.35:326.59:144.41:17452.20|62833.35:62650.75:326.59:143.99:17596.19|62650.75:62467.73:326.59:143.57:17739.77|62467.73:62284.29:326.59:143.16:17882.92|62284.29:62100.43:326.59:142.73:18025.66|62100.43:61916.15:326.59:142.31:18167.97|61916.15:61731.45:326.59:141.89:18309.86|61731.45:61546.33:326.59:141.47:18451.33|61546.33:61360.78:326.59:141.04:18592.37|61360.78:61174.80:326.59:140.62:18732.99|61174.80:60988.40:326.59:140.19:18873.18|60988.40:60801.57:326.59:139.77:19012.95|60801.57:60614.32:326.59:139.34:19152.29|60614.32:60426.63:326.59:138.91:19291.19|60426.63:60238.52:326.59:138.48:19429.67|60238.52:60049.97:326.59:138.05:19567.72|60049.97:59860.99:326.59:137.61:19705.33|59860.99:59671.58:326.59:137.18:19842.51|59671.58:59481.74:326.59:136.75:19979.26|59481.74:59291.45:326.59:136.31:20115.57|59291.45:59100.74:326.59:135.88:20251.45|59100.74:58909.58:326.59:135.44:20386.89|58909.58:58717.99:326.59:135.00:20521.89|58717.99:58525.96:326.59:134.56:20656.45|58525.96:58333.49:326.59:134.12:20790.57|58333.49:58140.58:326.59:133.68:20924.25|58140.58:57947.22:326.59:133.24:21057.49|57947.22:57753.43:326.59:132.80:21190.29|57753.43:57559.19:326.59:132.35:21322.64|57559.19:57364.50:326.59:131.91:21454.55|57364.50:57169.37:326.59:131.46:21586.01|57169.37:56973.79:326.59:131.01:21717.02|56973.79:56777.76:326.59:130.56:21847.59|56777.76:56581.28:326.59:130.12:21977.70|56581.28:56384.35:326.59:129.67:22107.37|56384.35:56186.98:326.59:129.21:22236.58|56186.98:55989.14:326.59:128.76:22365.34|55989.14:55790.86:326.59:128.31:22493.65|55790.86:55592.12:326.59:127.85:22621.51|55592.12:55392.93:326.59:127.40:22748.90|55392.93:55193.28:326.59:126.94:22875.85|55193.28:54993.17:326.59:126.48:23002.33|54993.17:54792.60:326.59:126.03:23128.36|54792.60:54591.57:326.59:125.57:23253.92|54591.57:54390.09:326.59:125.11:23379.03|54390.09:54188.14:326.59:124.64:23503.67|54188.14:53985.73:326.59:124.18:23627.85|53985.73:53782.85:326.59:123.72:23751.57|53782.85:53579.51:326.59:123.25:23874.82|53579.51:53375.70:326.59:122.79:23997.61|53375.70:53171.43:326.59:122.32:24119.93|53171.43:52966.69:326.59:121.85:24241.78|52966.69:52761.48:326.59:121.38:24363.16|52761.48:52555.80:326.59:120.91:24484.07|52555.80:52349.64:326.59:120.44:24604.51|52349.64:52143.02:326.59:119.97:24724.48|52143.02:51935.92:326.59:119.49:24843.98|51935.92:51728.35:326.59:119.02:24963.00|51728.35:51520.30:326.59:118.54:25081.54|51520.30:51311.77:326.59:118.07:25199.61|51311.77:51102.77:326.59:117.59:25317.20|51102.77:50893.29:326.59:117.11:25434.31|50893.29:50683.32:326.59:116.63:25550.94|50683.32:50472.88:326.59:116.15:25667.09|50472.88:50261.95:326.59:115.67:25782.75|50261.95:50050.54:326.59:115.18:25897.94|50050.54:49838.65:326.59:114.70:26012.64|49838.65:49626.27:326.59:114.21:26126.85|49626.27:49413.41:326.59:113.73:26240.58|49413.41:49200.05:326.59:113.24:26353.82|49200.05:48986.21:326.59:112.75:26466.57|48986.21:48771.88:326.59:112.26:26578.83|48771.88:48557.05:326.59:111.77:26690.60|48557.05:48341.74:326.59:111.28:26801.87|48341.74:48125.93:326.59:110.78:26912.66|48125.93:47909.62:326.59:110.29:27022.94|47909.62:47692.82:326.59:109.79:27132.74|47692.82:47475.52:326.59:109.30:27242.03|47475.52:47257.73:326.59:108.80:27350.83|47257.73:47039.44:326.59:108.30:27459.13|47039.44:46820.64:326.59:107.80:27566.93|46820.64:46601.35:326.59:107.30:27674.23|46601.35:46381.55:326.59:106.79:27781.02|46381.55:46161.25:326.59:106.29:27887.31|46161.25:45940.44:326.59:105.79:27993.10|45940.44:45719.13:326.59:105.28:28098.38|45719.13:45497.31:326.59:104.77:28203.15|45497.31:45274.98:326.59:104.26:28307.42|45274.98:45052.14:326.59:103.76:28411.17|45052.14:44828.79:326.59:103.24:28514.42|44828.79:44604.93:326.59:102.73:28617.15|44604.93:44380.56:326.59:102.22:28719.37|44380.56:44155.67:326.59:101.71:28821.07|44155.67:43930.27:326.59:101.19:28922.26|43930.27:43704.35:326.59:100.67:29022.94|43704.35:43477.91:326.59:100.16:29123.09|43477.91:43250.95:326.59:99.64:29222.73|43250.95:43023.48:326.59:99.12:29321.85|43023.48:42795.48:326.59:98.60:29420.44|42795.48:42566.96:326.59:98.07:29518.51|42566.96:42337.92:326.59:97.55:29616.06|42337.92:42108.35:326.59:97.02:29713.09|42108.35:41878.25:326.59:96.50:29809.59|41878.25:41647.63:326.59:95.97:29905.56|41647.63:41416.48:326.59:95.44:30001.00|41416.48:41184.80:326.59:94.91:30095.91|41184.80:40952.59:326.59:94.38:30190.30|40952.59:40719.85:326.59:93.85:30284.14|40719.85:40486.57:326.59:93.32:30377.46|40486.57:40252.76:326.59:92.78:30470.24|40252.76:40018.41:326.59:92.25:30562.49|40018.41:39783.53:326.59:91.71:30654.20|39783.53:39548.11:326.59:91.17:30745.37|39548.11:39312.14:326.59:90.63:30836.00|39312.14:39075.64:326.59:90.09:30926.09|39075.64:38838.60:326.59:89.55:31015.64|38838.60:38601.01:326.59:89.01:31104.64|38601.01:38362.88:326.59:88.46:31193.10|38362.88:38124.20:326.59:87.91:31281.02|38124.20:37884.97:326.59:87.37:31368.39|37884.97:37645.20:326.59:86.82:31455.21|37645.20:37404.88:326.59:86.27:31541.48|37404.88:37164.00:326.59:85.72:31627.20|37164.00:36922.58:326.59:85.17:31712.36|36922.58:36680.60:326.59:84.61:31796.98|36680.60:36438.07:326.59:84.06:31881.04|36438.07:36194.98:326.59:83.50:31964.54|36194.98:35951.33:326.59:82.95:32047.49|35951.33:35707.13:326.59:82.39:32129.88|35707.13:35462.36:326.59:81.83:32211.71|35462.36:35217.04:326.59:81.27:32292.97|35217.04:34971.15:326.59:80.71:32373.68|34971.15:34724.70:326.59:80.14:32453.82|34724.70:34477.69:326.59:79.58:32533.40|34477.69:34230.10:326.59:79.01:32612.41|34230.10:33981.95:326.59:78.44:32690.85|33981.95:33733.24:326.59:77.88:32768.73|33733.24:33483.95:326.59:77.31:32846.03|33483.95:33234.09:326.59:76.73:32922.77|33234.09:32983.66:326.59:76.16:32998.93|32983.66:32732.65:326.59:75.59:33074.52|32732.65:32481.07:326.59:75.01:33149.53|32481.07:32228.92:326.59:74.44:33223.97|32228.92:31976.18:326.59:73.86:33297.82|31976.18:31722.87:326.59:73.28:33371.10|31722.87:31468.97:326.59:72.70:33443.80|31468.97:31214.50:326.59:72.12:33515.92|31214.50:30959.44:326.59:71.53:33587.45|30959.44:30703.79:326.59:70.95:33658.40|30703.79:30447.56:326.59:70.36:33728.76|30447.56:30190.74:326.59:69.78:33798.54|30190.74:29933.34:326.59:69.19:33867.72|29933.34:29675.34:326.59:68.60:33936.32|29675.34:29416.76:326.59:68.01:34004.33|29416.76:29157.58:326.59:67.41:34071.74|29157.58:28897.80:326.59:66.82:34138.56|28897.80:28637.43:326.59:66.22:34204.79|28637.43:28376.47:326.59:65.63:34270.41|28376.47:28114.90:326.59:65.03:34335.44|28114.90:27852.74:326.59:64.43:34399.87|27852.74:27589.98:326.59:63.83:34463.70|27589.98:27326.61:326.59:63.23:34526.93|27326.61:27062.64:326.59:62.62:34589.55|27062.64:26798.07:326.59:62.02:34651.57|26798.07:26532.89:326.59:61.41:34712.98|26532.89:26267.10:326.59:60.80:34773.79|26267.10:26000.70:326.59:60.20:34833.98|26000.70:25733.69:326.59:59.58:34893.57|25733.69:25466.07:326.59:58.97:34952.54|25466.07:25197.84:326.59:58.36:35010.90|25197.84:24928.99:326.59:57.75:35068.65|24928.99:24659.53:326.59:57.13:35125.77|24659.53:24389.45:326.59:56.51:35182.29|24389.45:24118.75:326.59:55.89:35238.18|24118.75:23847.43:326.59:55.27:35293.45|23847.43:23575.48:326.59:54.65:35348.10|23575.48:23302.92:326.59:54.03:35402.13|23302.92:23029.73:326.59:53.40:35455.53|23029.73:22755.91:326.59:52.78:35508.31|22755.91:22481.47:326.59:52.15:35560.46|22481.47:22206.39:326.59:51.52:35611.98|22206.39:21930.69:326.59:50.89:35662.87|21930.69:21654.36:326.59:50.26:35713.12|21654.36:21377.39:326.59:49.62:35762.75|21377.39:21099.78:326.59:48.99:35811.74|21099.78:20821.54:326.59:48.35:35860.09|20821.54:20542.67:326.59:47.72:35907.81|20542.67:20263.15:326.59:47.08:35954.88|20263.15:19982.99:326.59:46.44:36001.32|19982.99:19702.20:326.59:45.79:36047.11|19702.20:19420.75:326.59:45.15:36092.27|19420.75:19138.67:326.59:44.51:36136.77|19138.67:18855.93:326.59:43.86:36180.63|18855.93:18572.55:326.59:43.21:36223.84|18572.55:18288.52:326.59:42.56:36266.40|18288.52:18003.84:326.59:41.91:36308.32|18003.84:17718.51:326.59:41.26:36349.57|17718.51:17432.52:326.59:40.60:36390.18|17432.52:17145.87:326.59:39.95:36430.13|17145.87:16858.57:326.59:39.29:36469.42|16858.57:16570.61:326.59:38.63:36508.06|16570.61:16282.00:326.59:37.97:36546.03|16282.00:15992.72:326.59:37.31:36583.34|15992.72:15702.77:326.59:36.65:36619.99|15702.77:15412.17:326.59:35.99:36655.98|15412.17:15120.89:326.59:35.32:36691.30|15120.89:14828.95:326.59:34.65:36725.95|14828.95:14536.34:326.59:33.98:36759.93|14536.34:14243.06:326.59:33.31:36793.25|14243.06:13949.11:326.59:32.64:36825.89|13949.11:13654.48:326.59:31.97:36857.85|13654.48:13359.18:326.59:31.29:36889.14|13359.18:13063.20:326.59:30.61:36919.76|13063.20:12766.55:326.59:29.94:36949.70|12766.55:12469.21:326.59:29.26:36978.95|12469.21:12171.19:326.59:28.58:37007.53|12171.19:11872.49:326.59:27.89:37035.42|11872.49:11573.11:326.59:27.21:37062.63|11573.11:11273.04:326.59:26.52:37089.15|11273.04:10972.28:326.59:25.83:37114.98|10972.28:10670.83:326.59:25.14:37140.13|10670.83:10368.69:326.59:24.45:37164.58|10368.69:10065.86:326.59:23.76:37188.34|10065.86:9762.33:326.59:23.07:37211.41|9762.33:9458.11:326.59:22.37:37233.78|9458.11:9153.19:326.59:21.67:37255.46|9153.19:8847.58:326.59:20.98:37276.43|8847.58:8541.26:326.59:20.28:37296.71|8541.26:8234.24:326.59:19.57:37316.28|8234.24:7926.52:326.59:18.87:37335.15|7926.52:7618.09:326.59:18.16:37353.32|7618.09:7308.95:326.59:17.46:37370.78|7308.95:6999.11:326.59:16.75:37387.53|6999.11:6688.56:326.59:16.04:37403.57|6688.56:6377.29:326.59:15.33:37418.89|6377.29:6065.31:326.59:14.61:37433.51|6065.31:5752.62:326.59:13.90:37447.41|5752.62:5439.21:326.59:13.18:37460.59|5439.21:5125.08:326.59:12.46:37473.06|5125.08:4810.24:326.59:11.74:37484.80|4810.24:4494.67:326.59:11.02:37495.82|4494.67:4178.37:326.59:10.30:37506.13|4178.37:3861.36:326.59:9.58:37515.70|3861.36:3543.61:326.59:8.85:37524.55|3543.61:3225.14:326.59:8.12:37532.67|3225.14:2905.94:326.59:7.39:37540.06|2905.94:2586.00:326.59:6.66:37546.72|2586.00:2265.34:326.59:5.93:37552.65|2265.34:1943.94:326.59:5.19:37557.84|1943.94:1621.80:326.59:4.45:37562.29|1621.80:1298.92:326.59:3.72:37566.01|1298.92:975.31:326.59:2.98:37568.99|975.31:650.95:326.59:2.24:37571.22|650.95:325.85:326.59:1.49:37572.71|325.85:-0.00:326.59:0.75:37573.46|\";cstartmonth=11;cstartyear=2020;monthlypayment=326.59294479908;cloanterm=30;cloanamount=80000;remainingTerm=0;biggestItem=359;\r\nvar chartStrBuilderPayment = [];\r\nvar chartStrBuilderBalance = [];\r\nvar chartStrBuilderInterest = [];\r\nxmax = cloanterm;\r\nchartSep = 12;\r\nif (cloanterm<=5){\r\n\tchartSep = 1;\r\n\txmax = cloanterm*12;\r\n\r\n\tchartStrBuilderPayment.push(0);\r\n\tchartStrBuilderBalance.push(cloanamount);\r\n\tchartStrBuilderInterest.push(0);\r\n}\r\nvar allDataArray = allData.split(\"|\");\r\noutPutData = new Array();\r\nfor (var i=0;i<allDataArray.length;i++){\r\n\tif ((allDataArray[i]+\"\").length>3){\r\n\t\ttempArray = allDataArray[i].split(\":\");\r\n\t\toutPutData[i] = new Array();\r\n\t\toutPutData[i][0] = parseFloat(tempArray[0]);\r\n\t\toutPutData[i][1] = parseFloat(tempArray[1]);\r\n\t\toutPutData[i][2] = parseFloat(tempArray[2]);\r\n\t\toutPutData[i][3] = parseFloat(tempArray[3]);\r\n\t\toutPutData[i][4] = parseFloat(tempArray[4]);\r\n\r\n\t\tif (((i%chartSep)==0)||((i+2)==allDataArray.length)){\r\n\t\t\tchartStrBuilderPayment.push((i+1)*monthlypayment);\r\n\t\t\tchartStrBuilderBalance.push(outPutData[i][1]);\r\n\t\t\tchartStrBuilderInterest.push(outPutData[i][4]);\r\n\t\t}\r\n\t}\r\n}\r\nhideDate = 0;\r\nif (cloanterm>5){\r\n\tshowAmo(0);\r\n}else{\r\n\tshowAmo(1);\r\n}\r\nvar tempVal = 45;\r\n$(function () {\r\n\t$('#cpiechartdiv').highcharts({\r\n\t\ttitle: {text: ''},\r\n\t\ttooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},\r\n\t\tplotOptions: {pie: {allowPointSelect: true,cursor: 'pointer',showInLegend: true,center: [\"50%\", \"18%\"],\r\n\t\t\tdataLabels: {color: '#eeeeee',connectorColor: '#FFFFFF',connectorPadding:-55,distance:-12,softConnector: false,formatter: function() {return this.percentage.toFixed(0) +'%';}}\r\n\t\t}},\r\n\t\tlegend: {\r\n\t\t\tlayout: 'vertical',\r\n\t\t\ty:0,\t\t\tfloating:true\r\n\t\t},\r\n\t\tseries: [{\r\n\t\t\ttype: 'pie',\r\n\t\t\tname: 'Share',\r\n\t\t\tdata: [['Principal',80000],['Interest',37573],['Property Taxes',34500],['Home Insurance',6600]]\r\n\t\t}]\r\n\t});\r\n});\r\n$(function () {\r\n\t$('#cchartdiv').highcharts({\r\n\t\tchart: {type: 'spline',plotBorderWidth: 1},\r\n\t\ttitle: {text: ''},\r\n\t\txAxis: {min: 0, max:xmax, title: {text: ''},gridLineWidth: 1,\r\n\t\t\tlabels: {\r\n\t\t\t\tformatter: function() {\r\n\t\t\t\t\tif (cloanterm<=5){\r\n\t\t\t\t\t\treturn this.value+'mo';\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn this.value+'yr';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tyAxis: {\r\n\t\t\tmin: 0,title: {text: ''},gridLineWidth: 1,\r\n\t\t\tlabels: {\r\n\t\t\t\tformatter: function() {\r\n\t\t\t\t\ttempVal = this.value;\r\n\t\t\t\t\tif (this.value>999) tempVal = (this.value/1000).toFixed(1) + 'K';\r\n\t\t\t\t\tif (this.value>999999) tempVal = (this.value/1000000).toFixed(1) + 'M';\r\n\t\t\t\t\treturn '$'+tempVal;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\ttooltip: {enabled: false,formatter: function() {return this.series.name+': $' + this.y;}},\r\n\t\tplotOptions: {spline: {lineWidth: 4,states: {hover: {lineWidth: 3}},marker: {enabled: false}}},\r\n\t\tlegend: {layout: 'vertical',align: 'left',verticalAlign: 'top',floating: true,backgroundColor: '#FCFFC5',borderWidth: 1,x: 55,y: 3},\r\n\t\tseries: [\r\n\t\t\t{name: 'Balance',data: chartStrBuilderBalance},\r\n\t\t\t{name: 'Interest',data: chartStrBuilderInterest},\r\n\t\t\t{name: 'Payment',data: chartStrBuilderPayment}\r\n\t\t]\r\n\t});\r\n});\r\n\r\n</script>\r\n</div>\r\n\t<div id=\"right\">\r\n\t\t<div style=\"padding-top:10px;text-align:center;\">\r\n<script async src=\"https://securepubads.g.doubleclick.net/tag/js/gpt.js\"></script>\r\n<script>\r\n  window.googletag = window.googletag || {cmd: []};\r\n  googletag.cmd.push(function() {\r\n\tgoogletag.defineSlot('/1057446/Calculator-Top-Right-Desktop', [[300, 250], [336, 280]], 'div-gpt-ad-1589567013929-0').addService(googletag.pubads());\r\n\tgoogletag.pubads().enableSingleRequest();\r\n\tgoogletag.enableServices();\r\n  });\r\n</script>\r\n<!-- /1057446/Calculator-Top-Right-Desktop -->\r\n<div id='div-gpt-ad-1589567013929-0'>\r\n  <script>\r\n    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1589567013929-0'); });\r\n  </script>\r\n</div>\r\n</div>\r\n<table align=\"center\" id=\"searchbox\"><form name=\"calcSearchForm\" onsubmit=\"calcSearch(); return false;\" autocomplete=\"off\"><tr><td><input type=\"text\" name=\"calcSearchTerm\" id=\"calcSearchTerm\" class=\"inlongest\" onkeyup=\"return calcSearch();\"></td><td><span id=\"bluebtn\" onClick=\"return calcSearch();\">Search</span></td></tr><tr><td colspan=\"2\"><div id=\"calcSearchOut\"></div></td></tr></form></table><div id=\"othercalc\"><div id=\"octitle\"><a href=\"/financial-calculator.html\">Financial Calculators</a></div><div id=\"occontent\"><a href=\"/mortgage-calculator.html\">Mortgage</a><a href=\"/loan-calculator.html\">Loan</a><a href=\"/auto-loan-calculator.html\">Auto Loan</a><a href=\"/interest-calculator.html\">Interest</a><a href=\"/payment-calculator.html\">Payment</a><a href=\"/retirement-calculator.html\">Retirement</a><a href=\"/amortization-calculator.html\">Amortization</a><a href=\"/investment-calculator.html\">Investment</a><a href=\"/currency-calculator.html\">Currency</a><a href=\"/inflation-calculator.html\">Inflation</a><a href=\"/finance-calculator.html\">Finance</a><a href=\"/mortgage-payoff-calculator.html\">Mortgage Payoff</a><a href=\"/tax-calculator.html\">Income Tax</a><a href=\"/compound-interest-calculator.html\">Compound Interest</a><a href=\"/salary-calculator.html\">Salary</a><a href=\"/401k-calculator.html\">401K</a><a href=\"/interest-rate-calculator.html\">Interest Rate</a><a href=\"/sales-tax-calculator.html\">Sales Tax</a><a href=\"/financial-calculator.html\">More Financial Calculators</a></div><div id=\"ocother\"><a href=\"/financial-calculator.html\">Financial</a> | <a href=\"/fitness-and-health-calculator.html\">Fitness and Health</a> | <a href=\"/math-calculator.html\">Math</a> | <a href=\"/other-calculator.html\">Other</a></div></div>\t</div>\r\n</div>\r\n<div id=\"clear\"></div>\r\n<div id=\"footer\"><div id=\"footerin\"><div id=\"footernav\"><a href=\"/about-us.html\">about us</a> | <a href=\"/sitemap.html\">sitemap</a> | <a href=\"/about-us.html#terms\">terms of use</a> | <a href=\"/about-us.html#privacy\">privacy policy</a> &nbsp;  &copy; 2008 - 2021 <a href=\"//www.calculator.net\">calculator.net</a></div></div></div>\r\n<script type=\"text/javascript\">\r\nvar _gaq = _gaq || [];\r\n_gaq.push(['_setAccount', 'UA-3068863-11']);\r\n_gaq.push(['_trackPageview','/mortgage-calculator.html?chouseprice=100000&cdownpayment=20.00&cdownpaymentunit=p&cloanterm=30&cinterestrate=2.75&cstartmonth=11&cstartyear=2020&caddoptional=1&cpropertytaxes=1.15&cpropertytaxesunit=p&chomeins=0.22&chomeinsunit=p&cpmi=0&cpmiunit=d&choa=0.00&choaunit=d&cothercost=0&cothercostunit=d&cmop=0&cptinc=0&chiinc=0&choainc=0&cocinc=0&cexma=0&cexmsm=11&cexmsy=2020&cexya=0&cexysm=11&cexysy=2020&cexoa=0&cexosm=11&cexosy=2020&caot=0&xa1=0&xm1=11&xy1=2020&xa2=0&xm2=11&xy2=2020&xa3=0&xm3=11&xy3=2020&xa4=0&xm4=11&xy4=2020&xa5=0&xm5=11&xy5=2020&xa6=0&xm6=11&xy6=2020&xa7=0&xm7=11&xy7=2020&xa8=0&xm8=11&xy8=2020&xa9=0&xm9=11&xy9=2020&xa10=0&xm10=11&xy10=2020&csbw=1&printit=0&x=59&y=18_____Section_1_US__do']);\r\n(function() {\r\n\tvar ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\r\n\tga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\r\n\t(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);\r\n})();\r\n</script>\r\n<script async>showTopNav(1);</script></body>\r\n</html>\r\n";
            }
            private string GetBaseCaseWithHoATestCaseDataHtml()
            {
                return "<html>\r\n<head>\t<title>Mortgage Calculator</title>\r\n\t<meta name=\"description\" content=\"Free mortgage calculator to find monthly payment, total home ownership cost, and amortization schedule of a mortgage with options for taxes, insurance, PMI, HOA, early payoff. Learn about mortgages, experiment with other real estate calculators, or explore many other calculators addressing math, fitness, health, and many more.\" />\r\n\t<script src=\"//d26tpo4cm8sb6k.cloudfront.net/js/common.js\"></script>\r\n\t<link rel=\"stylesheet\" href=\"//d26tpo4cm8sb6k.cloudfront.net/style2.css\" />\n<link rel=\"canonical\" href=\"https://www.calculator.net/mortgage-calculator.html\" />\n\t<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"//d26tpo4cm8sb6k.cloudfront.net/apple-touch-icon.png\">\r\n\t<link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"//d26tpo4cm8sb6k.cloudfront.net/icon-32x32.png\">\r\n\t<link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"//d26tpo4cm8sb6k.cloudfront.net/icon-16x16.png\">\r\n\t<link rel=\"manifest\" href=\"/manifest.json\"><script type=\"text/javascript\" src=\"//d26tpo4cm8sb6k.cloudfront.net/js/jquery.min.js\"></script>\r\n<script src=\"//d26tpo4cm8sb6k.cloudfront.net/highchart/highcharts.js\"></script>\r\n<script src=\"//d26tpo4cm8sb6k.cloudfront.net/js/mortgagenew.js\"></script>\r\n</head><body>\r\n<div id=\"headerout\">\r\n\t<div id=\"header\">\r\n\t\t<div id=\"logo\"><a href=\"/\"><img src=\"//d26tpo4cm8sb6k.cloudfront.net/img/svg/calculator-white.svg\" width=\"208\" height=\"22\"></a></div>\r\n\t\t\t</div>\r\n</div>\r\n<div id=\"clear\"></div><div id=\"contentout\"><div id=\"content\"><div id=\"breadcrumbs\" itemscope itemtype=\"https://schema.org/BreadcrumbList\"><span itemprop=\"itemListElement\" itemscope itemtype=\"https://schema.org/ListItem\"><a href=\"/\" itemprop=\"item\"><span itemprop=\"name\">home</span></a><meta itemprop=\"position\" content=\"1\" /></span> / <span itemprop=\"itemListElement\" itemscope itemtype=\"https://schema.org/ListItem\"><a href=\"/financial-calculator.html\" itemprop=\"item\"><span itemprop=\"name\">financial</span></a><meta itemprop=\"position\" content=\"2\" /></span> / <span itemprop=\"itemListElement\" itemscope itemtype=\"https://schema.org/ListItem\"><a href=\"/mortgage-calculator.html\" itemprop=\"item\"><span itemprop=\"name\">mortgage calculator</span></a><meta itemprop=\"position\" content=\"3\" /></span></div><div id=\"printit\"><a href=\"#\" onClick=\"document.calform.printit.value=1;document.calform.submit();return false;\">Print</a></div>\t\t<h1>Mortgage Calculator</h1>\r\n<table cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\r\n<tr><td valign=\"top\" width=\"310\">\r\n<table class=\"panel\">\r\n<form name=\"calform\" action=\"/mortgage-calculator.html\">\r\n<tr><td align=\"right\">Home Price</td><td align=\"right\"><input type=\"text\" name=\"chouseprice\" id=\"chouseprice\" value=\"100000\" class=\"innormal indollar\"></td><td>&nbsp;</td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcdown\">Down Payment</a></td><td align=\"right\" valign=\"bottom\"><input type=\"text\" name=\"cdownpayment\" id=\"cdownpayment\" value=\"20.00\" class=\"innormal inpct\"></td><td><select name=\"cdownpaymentunit\" onChange=\"cunitchange('cdownpayment', this.value);\"><option value=\"p\" selected>%</option><option value=\"d\">$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mclterm\">Loan Term</a></td><td align=\"right\"><input type=\"text\" name=\"cloanterm\" id=\"cloanterm\" value=\"30\" class=\"innormal\"></td><td>years</td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcinterest\">Interest Rate</a></td><td align=\"right\"><input type=\"text\" name=\"cinterestrate\" id=\"cinterestrate\" value=\"2.75\" class=\"innormal inpct\"></td><td>&nbsp;</td></tr>\r\n<tr><td align=\"right\">Start Date</td><td align=\"left\" colspan=\"2\"><select name=\"cstartmonth\" id=\"cstartmonth\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select> <input type=\"text\" name=\"cstartyear\" id=\"cstartyear\" value=\"2020\" class=\"in4char\"></td></tr>\r\n<tr><td colspan=\"3\"><br><label for=\"caddoptional\" class=\"cbcontainer\"><input type=\"checkbox\" name=\"caddoptional\" id=\"caddoptional\" value=\"1\" checked /><span class=\"cbmark\"></span><b>Include Options Below</b></label></td></tr>\r\n\r\n<tr><td>&nbsp;</td><td colspan=\"2\" align=\"center\" valign=\"bottom\">Annual Tax &amp; Cost</td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcptax\">Property Taxes</a></td><td align=\"right\"><input type=\"text\" name=\"cpropertytaxes\" id=\"cpropertytaxes\" value=\"1.15\" class=\"innormal inpct\"></td><td><select name=\"cpropertytaxesunit\" onChange=\"cunitchange('cpropertytaxes', this.value);\"><option value=\"p\" selected>%</option><option value=\"d\">$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mchins\">Home Insurance</a></td><td align=\"right\"><input type=\"text\" name=\"chomeins\" id=\"chomeins\" value=\"0.22\" class=\"innormal inpct\"></td><td><select name=\"chomeinsunit\" onChange=\"cunitchange('chomeins', this.value);\"><option value=\"p\" selected>%</option><option value=\"d\">$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcpmi\">PMI Insurance</a></td><td align=\"right\"><input type=\"text\" name=\"cpmi\" id=\"cpmi\" value=\"0\" class=\"innormal  indollar\"></td><td><select name=\"cpmiunit\" onChange=\"cunitchange('cpmi', this.value);\"><option value=\"p\">%</option><option value=\"d\" selected>$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mchoa\">HOA Fee</a></td><td align=\"right\"><input type=\"text\" name=\"choa\" id=\"choa\" value=\"120.00\" class=\"innormal  indollar\"></td><td><select name=\"choaunit\" onChange=\"cunitchange('choa', this.value);\"><option value=\"p\">%</option><option value=\"d\" selected>$</option></select></td></tr>\r\n<tr><td align=\"right\"><a href=\"#mcother\">Other Costs</a></td><td align=\"right\"><input type=\"text\" name=\"cothercost\" id=\"cothercost\" value=\"0\" class=\"innormal  indollar\"></td><td><select name=\"cothercostunit\" onChange=\"cunitchange('cothercost', this.value);\"><option value=\"p\">%</option><option value=\"d\" selected>$</option></select></td></tr>\r\n<tr><td colspan=\"3\" align=\"center\">\r\n<div style=\"padding:10px 0px;font-weight:bold;\"><span id=\"cmoreoptionlinks\"><a href=\"#\" onClick=\"cshmoreoption(1);return false;\">+ More Options</a></span><input type=\"hidden\" name=\"cmop\" id=\"cmoreoption\" value=\"0\"></div>\r\n<table id=\"cmoreoptioninputs\" style=\"display: none;\">\r\n\t<tr><td colspan=\"3\" style=\"padding-top:5px;font-weight:bold;\">Annual Tax &amp; Cost Increase</td></tr>\r\n\t<tr><td style=\"padding-left:10px;\">Property Taxes Increase</td><td colspan=\"2\"><input type=\"text\" name=\"cptinc\" value=\"0\" class=\"in4char inpct\"></td></tr>\r\n\t<tr><td style=\"padding-left:10px;\">Home Insurance Increase</td><td colspan=\"2\"><input type=\"text\" name=\"chiinc\" value=\"0\" class=\"in4char inpct\"></td></tr>\r\n\t<tr><td style=\"padding-left:10px;\">HOA Fee Increase</td><td colspan=\"2\"><input type=\"text\" name=\"choainc\" value=\"0\" class=\"in4char inpct\"></td></tr>\r\n\t<tr><td style=\"padding-left:10px;\">Other Costs Increase</td><td colspan=\"2\"><input type=\"text\" name=\"cocinc\" value=\"0\" class=\"in4char inpct\"></td></tr>\r\n\t<tr><td colspan=\"3\" style=\"padding:10px 0px 3px 0px;font-weight:bold;\">Extra Payments</td></tr>\r\n\t<tr><td colspan=\"3\" style=\"padding-left:10px;\">Extra Monthly Pay\r\n\t\t<div style=\"padding-bottom:5px;\"><input type=\"text\" name=\"cexma\" value=\"0\" class=\"innormal indollar\">\r\n\t\tfrom <select name=\"cexmsm\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"cexmsy\" value=\"2020\" class=\"in4char\"></div>\r\n\t</td></tr>\r\n\t<tr><td colspan=\"3\" style=\"padding-left:10px;\">Extra Yearly Pay\r\n\t\t<div style=\"padding-bottom:5px;\"><input type=\"text\" name=\"cexya\" value=\"0\" class=\"innormal indollar\">\r\n\t\tfrom <select name=\"cexysm\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"cexysy\" value=\"2020\" class=\"in4char\"></div>\r\n\t</td></tr>\r\n\t<tr><td colspan=\"3\" style=\"padding-left:10px;\">Extra One-time Pay\r\n\t\t<div><input type=\"text\" name=\"cexoa\" value=\"0\" class=\"innormal indollar\">\r\n\t\tin <select name=\"cexosm\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"cexosy\" value=\"2020\" class=\"in4char\"></div>\r\n\t\t<div id=\"cadditionalonetimelink\" style=\"text-align:center; padding-top:8px;\"><a href=\"#\" onClick=\"cshadditionalonetime(1);return false;\">Additional One-Time Payments</a></div>\r\n\t\t<div id=\"cadditionalonetimediv\" style=\"padding:5px 0px;display: none;\">\r\n\t\t\t<input name=\"caot\" id=\"cadditionalonetime\" value=\"0\" type=\"hidden\">\r\n\t\t\t<input type=\"text\" name=\"xa1\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm1\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy1\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa2\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm2\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy2\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa3\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm3\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy3\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa4\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm4\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy4\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa5\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm5\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy5\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa6\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm6\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy6\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa7\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm7\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy7\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa8\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm8\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy8\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa9\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm9\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy9\" value=\"2020\" class=\"in4char\"><br><input type=\"text\" name=\"xa10\" value=\"0\" class=\"innormal indollar\"> in <select name=\"xm10\"><option value=\"1\">Jan</option><option value=\"2\">Feb</option><option value=\"3\">Mar</option><option value=\"4\">Apr</option><option value=\"5\">May</option><option value=\"6\">Jun</option><option value=\"7\">Jul</option><option value=\"8\">Aug</option><option value=\"9\">Sep</option><option value=\"10\">Oct</option><option value=\"11\" selected>Nov</option><option value=\"12\">Dec</option></select><input type=\"text\" name=\"xy10\" value=\"2020\" class=\"in4char\"><br>\t\t</div>\r\n\r\n\t</td></tr>\r\n\r\n\t<tr><td colspan=\"3\" style=\"padding:10px 0px 6px 0px\">\r\n\t\t<label for=\"csbw\" class=\"cbcontainer\"><input type=\"checkbox\" name=\"csbw\" id=\"csbw\" value=\"1\" checked /><span class=\"cbmark\"></span><b>Show Biweekly Payback Results</b></label>\r\n\t</td></tr>\r\n</table>\r\n<script>\r\ncshmoreoption(0);\r\ncshadditionalonetime(0);\r\n</script>\r\n</td></tr>\r\n<tr><td colspan=\"2\" align=\"right\"><input name=\"printit\" value=\"0\" type=\"hidden\"><input type=\"image\" src=\"//d26tpo4cm8sb6k.cloudfront.net/img/svg/calculate.svg\" value=\"Calculate\" alt=\"Calculate\"></td><td>&nbsp;</td></tr>\r\n</form>\r\n</table>\r\n</td><td valign=\"top\">\r\n<a name=\"results\"></a><table align=\"center\"><tr><td><h2 class=\"h2result\">Monthly Pay: &nbsp; $326.59</h2><table cellpadding='3' width='100%'><tr><td>&nbsp;</td><td align=right><b>Monthly</b></td><td align=right><b>Total</b></td></tr><tr bgcolor='#dddddd'><td><b>Mortgage Payment</b></td><td align=right><b>$326.59</b></td><td align=right><b>$117,573.46</b></td></tr><tr><td><a href=\"#mcptax\">Property Tax</a></td><td align=right>$95.83</td><td align=right>$34,500.00</td></tr><tr><td><a href=\"#mchins\">Home Insurance</a></td><td align=right>$18.33</td><td align=right>$6,600.00</td></tr><tr><td><a href=\"#mchoa\">HOA Fee</a></td><td align=right>$10.00</td><td align=right>$3,600.00</td></tr><tr bgcolor='#dddddd'><td><b>Total Out-of-Pocket</b></td><td align=right>$450.76</td><td align=right>$162,273.46</td></tr><tr><td colspan=\"3\">&nbsp;</td></tr><tr bgcolor='#dddddd'><td colspan='2'><b>House Price</b></td><td align='right'>$100,000.00</td></tr><tr><td colspan='2'>Loan Amount</td><td align='right'>$80,000.00</td></tr><tr><td colspan='2'>Down Payment</td><td align='right'>$20,000.00</td></tr><tr><td colspan='2'>Total of 360 Mortgage Payments</td><td align='right'>$117,573.46</td></tr><tr><td colspan='2'>Total Interest</td><td align='right'>$37,573.46</td></tr><tr><td colspan='2'>Mortgage Payoff Date</td><td align='right'>Nov. 2050</td></tr></table></td></tr></table></td></tr></table>\r\n<div id=\"mRateData\"></div><table width=\"100%\">\r\n\t<tr>\r\n\t\t<td valign=\"top\" width=\"200\">\r\n\t\t\t<br><div class=\"bigtext\" style=\"text-align:center;\"><b>Payments</b></div>\t\t\t<div id=\"cpiechartdiv\" style=\"min-width: 155px; height: 250px; margin: 0 auto\"></div>\r\n\t\t</td>\r\n\t\t<td valign=\"top\">\r\n\t\t\t<br><div class=\"bigtext\" style=\"text-align:center;\"><b>Mortgage Amortization Graph</b></div>\r\n\t\t\t<div id=\"cchartdiv\" style=\"min-width: 370px; height: 250px; margin: 0 auto\"></div>\r\n\t\t</td>\r\n\t</tr>\r\n</table>\r\n<div style=\"padding:10px 0px;text-align:center;\">\r\n</div>\r\n\r\n<div id=\"camortizationschdis\"></div>\r\n\r\n<br><br>\r\n\r\n<p>The Mortgage Calculator helps estimate the monthly payment due along with other financial costs associated with mortgages. There are advanced options to include extra payments or annual percentage increases of common mortgage expenses. The calculator is mainly intended for use by the U.S. residents.</p>\r\n\r\n<h3>Mortgages</h3>\r\n<p>A mortgage is a loan secured by property, usually real estate property. Lenders define it as the money borrowed to pay for real estate. In essence, the lender helps the buyer pay the seller of a house, and the buyer agrees to repay the money borrowed over a period of time, usually 15 or 30 years. Each month, a payment is made from buyer to lender. A portion of the monthly payment is called the principal, which is the original amount borrowed. The other portion is interest, which is the cost paid to the lender for using the money. There may be an escrow account involved to cover the cost of property taxes and insurance. The buyer cannot be considered the full owner of the mortgaged property until the last monthly payment is made. In U.S., the most common loan is the conventional 30-year fixed-interest loan, which represents 70% to 90% of all mortgages. Mortgages are how most people are able to own homes in the U.S.</p>\r\n<p><b>Mortgages are Secured Loans</b></p>\r\n<p>Because a house or purchased property acts as collateral in exchange for the money borrowed to finance the purchase, mortgages fall under the category of secured loans. As a result, failure by the borrower to repay the borrowed money and interest to the lender gives the lender the right to take over the secured property. A foreclosure is a legal process in which a mortgaged property is sold to pay the debt of the borrower who defaulted.</p>\r\n\r\n<h3>Key Components of a Mortgage</h3>\r\n<p>A real estate mortgage usually includes the following key components:</p>\r\n<ul>\r\n\t<li><b>Loan amount</b>&mdash;the amount borrowed from a lender or bank. The maximum loan amount one can borrow normally correlates with household income or affordability. To estimate an affordable amount, please use our <a href=\"/house-affordability-calculator.html\">House Affordability Calculator</a>.</li>\r\n\t<li><a name=\"mcdown\"></a><b>Down payment</b>&mdash;the upfront payment of the purchase, usually a percentage of the total price. In the US, if the down payment is less than 20% of the total property price, typically, private mortgage insurance (PMI) is mandatory until the principal is paid down to less than 80% or 78% of the total property price. The PMI rate normally ranges from 0.3%-1.5% of the total loan amount, depending on various factors. A general rule-of-thumb is that the higher the down payment, the more favorable the interest rate.</li>\r\n\t<li><a name=\"mclterm\"></a><b>Loan term</b>&mdash;the amount of time over which the loan must be repaid in full. The most popular lengths are 30 years and 15 years. Normally, the shorter the loan term, the lower the interest rate.</li>\r\n\t<li><a name=\"mcinterest\"></a><b>Interest rate</b>&mdash;the rate of interest charged by a mortgage lender. It can be fixed (otherwise known as a fixed-rate mortgage, or FRM), or adjustable (otherwise known as an adjustable rate mortgage, or ARM). The calculator above is only usable for fixed rates. For ARMs, interest rates are generally fixed for a period of time, after which they will be periodically adjusted based on market indices. ARMs transfer part of the risk to borrowers. Therefore, the initial interest rates are normally 0.5% to 2% lower than FRM with the same loan term. Mortgage interest rates are normally expressed in Annual Percentage Rate (APR), which is sometimes called nominal APR or effective APR. It is the interest rate expressed as a periodic rate multiplied by the number of compounding periods in a year. For example, if a mortgage rate is 6% APR, it means the borrower will have to pay 6% divided by twelve, which comes out to 0.5% in interest every month. APR will usually have some additional costs rolled in.</li>\r\n</ul>\r\n<p>The most common way to repay a mortgage loan is to make monthly, fixed payments to the lender. The payment contains both the principal and the interest. For a typical 30-year loan, the majority of the payments in the first few years cover the interest.</p>\r\n\r\n<h3>Costs Associated with Home Ownership and Mortgages</h3>\r\n<p>Monthly mortgage payments usually comprise the bulk of the financial costs associated with owning a house, but there are other important costs to keep in mind. These costs are separated into two categories, recurring and non-recurring.</p>\r\n<p><b>Recurring Costs</b></p>\r\n<p>Most recurring costs persist throughout and beyond the life of a mortgage, they are a significant financial factor. Property taxes, home insurance, HOA fees, and other costs increase with time as a byproduct of inflation. There are optional inputs within the calculator for annual percentage increases. Using these can result in more accurate calculations. In some cases, these routine costs combined can be more than the mortgage payment!</p>\r\n<ul>\r\n\t<li><a name=\"mcptax\"></a><b>Property taxes</b>&mdash;a tax that property owners pay to governing authorities. In the U.S., property tax is usually managed by municipal or county government. The annual real estate tax in the U.S. varies by location, normally ranging from 1% to 4% of the property value. In some extreme cases, the tax rate can be 10% or higher.</li>\r\n\t<li><a name=\"mchins\"></a><b>Home insurance</b>&mdash;an insurance policy that protects the owner from accidents that may happen to their private residence or other real estate properties. Home insurance can also contain personal liability coverage, which protects against lawsuits involving injuries that occur on and off the property. The cost of home insurance varies according to factors such as location, condition of property, and coverage amount. Typically, the annual cost can range from 0.1% to 5% of the property value.</li>\r\n\t<li><a name=\"mcpmi\"></a><b>Private mortgage insurance (PMI)</b>&mdash;protects the mortgage lender if the borrower is unable to repay. In the U.S. specifically, if the down payment is less than 20% of the property value, the lender will normally require the borrower to purchase PMI until the loan-to-value ratio (LTV) reaches 80% or 78%. PMI price varies according to factors such as down payment, size of the loan, and credit of the borrower. The annual cost typically ranges from 0.3% to 1.5% of the loan amount.</li>\r\n\t<li><a name=\"mchoa\"></a><b>HOA fee</b>&mdash;a fee that is imposed on the property owner by an organization that maintains and improves the property and environment of the neighborhoods that the specific organization covers. Condominiums, townhomes, and some single-family homes commonly require the payment of HOA fees. Annual HOA fees usually amount to less than one percent of the property value.</li>\r\n\t<li><a name=\"mcother\"></a><b>Other costs</b>&mdash;includes utilities, home maintenance costs, and anything pertaining to the general upkeep of the property. It is common to spend 1% or more of the property value on annual maintenance alone.</li>\r\n</ul>\r\n<p><b>Non-Recurring Costs</b></p>\r\n<p>These costs aren't addressed by the calculator, but they are still important to keep in mind.</p>\r\n<ul>\r\n\t<li><b>Closing costs</b>&mdash;the fees paid at the closing of a real estate transaction. These are not recurring fees, but they can be expensive. In the U.S., the closing cost on a mortgage can include an attorney fee, the title service cost, recording fee, survey fee, property transfer tax, brokerage commission, mortgage application fee, points, appraisal fee, inspection fee, home warranty, pre-paid home insurance, pro-rata property taxes, pro-rata homeowner association dues, pro-rata interest, and more. Sellers will share some of these costs. It is not unusual for a buyer to pay about $10,000 in total closing costs on a $400,000 transaction.</li>\r\n\t<li><b>Initial renovations</b>&mdash;some buyers may choose to renovate before moving in. Examples may be changing the flooring, repainting the walls, updating the kitchen, or even overhauling the entire interior or exterior. These renovations can become costly very quickly.</li>\r\n\t<li><b>Miscellaneous</b>&mdash;New furniture, new appliances, and moving costs are also significant and common non-recurring costs of a home purchase.</li>\r\n</ul>\r\n\r\n<h3>Early Repayment and Extra Payments</h3>\r\n<p>In many situations, mortgage borrowers may want to pay off mortgages earlier rather than later, either in whole or in part, for reasons including but not limited to interest savings, home selling, or refinancing. However, before doing so, it is important to first check with mortgage lenders to see if they accept early or extra payments, as some will have prepayment penalties.</p>\r\n<p><b>Prepayment Penalty</b></p>\r\n<p>A prepayment penalty is an agreement, most likely explained in a mortgage contract, between a borrower and a mortgage lender that regulates what the borrower is allowed to pay off and when. Penalty amounts are usually expressed as a percent of the outstanding balance at the time of prepayment, or a specified number of months of interest. The penalty amount typically decreases with time until it phases out eventually, normally within 5 years.</p>\r\n<p>There are two types of prepayment penalties, soft prepays and hard prepays. A soft prepay allows for the sale of a home without penalty, while a hard prepay penalizes a person for not only selling a home, but also refinancing it. Most mortgage lenders allow borrowers to pay off up to 20% of the loan balance each year. One-time payoff due to home selling is normally exempt from a prepayment penalty. Few lenders charge prepayment penalties in response to the sale or refinancing of a home, but be sure to review the loan terms carefully just in case. FHA loans do not have prepayment penalties.</p>\r\n<p><b>Early Repayment Strategies</b></p>\r\n<p>Aside from paying off the mortgage loan entirely, typically, there are three main strategies that can be used to payback a mortgage loan earlier. Borrowers mainly adopt these strategies to save on interest. These methods can be used in combination or individually.</p>\r\n<ol>\r\n\t<li><b>Refinance to a loan with a shorter term</b>&mdash;Interest rates of shorter term mortgage loans will most likely be lower. This is because in the lenders' eyes, shorter loan lengths are less risky, so they are more willing to provide more favorable interest rates to the borrower. Keep in mind that this imposes higher financial pressure on the borrower due to the higher monthly mortgage payments. Also, there may be fees involved.</li>\r\n\t<li><b>Make extra payments</b>&mdash;on typical long-term mortgage loans, a very big portion of the earlier payments will go towards paying down interest rather than the principal. Any extra payments will decrease the loan balance, thereby decreasing interest, and allowing the borrower to pay off the loan earlier in the long run. Some people form the habit of paying extra every month, while others pay extra whenever they can. There are optional inputs in the Mortgage Calculator to include many extra payments, and it can be helpful to compare the results of supplementing mortgages with or without extra payments.</li>\r\n\t<li><b>Make biweekly (once every two weeks) payments of half month's payment instead</b>&mdash;since there are 52 weeks each year, this is the equivalent of making 13 months of mortgage repayments a year instead of 12. This method is mainly for those who receive their paycheck biweekly. It is easier for them to form a habit of taking a portion from each paycheck to make mortgage payments. Displayed in the calculated results are biweekly payments for comparison purposes.</li>\r\n</ol>\r\n<p><b>Benefits of Early Repayment</b></p>\r\n<p>There are a number of reasons for borrowers to pay off their mortgage sooner, either in whole or in part.</p>\r\n<ul>\r\n\t<li><b>Interest savings</b>&mdash;due to the size and length of the mortgage loan, the savings on interest can be significant.</li>\r\n\t<li><b>Shorter repayment period</b>&mdash;the more additional payments made, particularly early in the life of the loan, the shorter the overall loan term.</li>\r\n\t<li><b>Personal satisfaction</b>&mdash;many people like the feeling of being debt free and having full ownership of a house.</li>\r\n</ul>\r\n<p><b>Drawbacks of Early Repayment</b></p>\r\n<p>While paying off a mortgage earlier may sound like a great idea, it may not make sense in all cases.</p>\r\n<ul>\r\n\t<li><b>The investment opportunity costs may be high</b>&mdash;In the grand scheme of finance, mortgage rates tend to be on the lower end. For instance, paying off a mortgage with 4% interest does not seem so enticing for people that can make 10% or more return on investments.</li>\r\n\t<li><b>Capital locked up in house</b>&mdash;Paying off a mortgage earlier than usual can result in too much money being locked up in a home too fast. While this may be good to some people, it can place financial burdens on borrowers who require a certain level of liquidity to maintain their financial health. In the case of an emergency, it is much easier to access funds in an investment account or bank account rather than funds in the form of home equity. Also, accumulated home equity may be counted against the owner when applying for need-based college aid.</li>\r\n\t<li><b>Lose the tax deduction</b>&mdash;In the U.S., mortgage interest is typically tax deductible. During the earliest years of a mortgage when interest payments are the highest, borrowers may benefit from a sizable deduction, especially if they are in a higher tax bracket. No more mortgage means no related tax deduction any more. Keep in mind that this perk is generally only available to taxpayers who choose to itemize their tax deductions rather than take the standard deduction.</li>\r\n</ul>\r\n\r\n<h3>Brief History of Mortgages in the U.S.</h3>\r\n<p>In the U.S., before the Great Depression, home mortgages were five to ten-year loans offered by private firms that only covered about 50% of a home's value, and the principal was due as a balloon payment at the end of the term. As a result, the prospect of becoming a homeowner as an American then was not as promising as it is today. The modern mortgage got its start in 1934 when the Federal Housing Administration (FHA) sought to find a way to pull the country out of the Great Depression. The FHA introduced a new type of home loan aimed at people who couldn't otherwise get them. Characteristics of these new mortgages included lower down payments, 30-year amortizations, 80 and 90% loan-to-values or higher, and universal standards for home qualification as well as construction standards, which were unheard of at the time. All of these characteristics contributed to mass home-ownership becoming a reality. The ease with which an American could own a home would go on to become one of the many factors known as the American Dream.</p>\r\n\r\n\r\n\n<script>\ngObj(\"mRateData\").innerHTML = '<div style=\"background:#eee;border:1px solid #ccc;padding: 3px;margin:3px;\"><b>Latest Mortgage Rates:</b> <span style=\"font-size:11px;color:#888;\">(U.S. National Average Fixed, Source: BankRate.com, Mar. 12, 2021)</span><br>&nbsp; &nbsp; 30 Years: <a href=\"#\" onClick=\"return setYearRate(\\'3.23\\', \\'30\\');\">3.23%</a> &nbsp; 15 Years: <a href=\"#\" onClick=\"return setYearRate(\\'2.49\\', \\'15\\');\">2.49%</a> &nbsp; 10 Years: <a href=\"#\" onClick=\"return setYearRate(\\'2.4\\', \\'10\\');\">2.4%</a></div>';\n</script>\n<script type=\"text/javascript\">\r\nallData = \"80000.00:79856.74:326.59:183.33:183.33|79856.74:79713.15:326.59:183.01:366.34|79713.15:79569.24:326.59:182.68:549.01|79569.24:79424.99:326.59:182.35:731.36|79424.99:79280.41:326.59:182.02:913.38|79280.41:79135.50:326.59:181.68:1095.06|79135.50:78990.26:326.59:181.35:1276.41|78990.26:78844.69:326.59:181.02:1457.43|78844.69:78698.78:326.59:180.69:1638.12|78698.78:78552.54:326.59:180.35:1818.47|78552.54:78405.96:326.59:180.02:1998.49|78405.96:78259.05:326.59:179.68:2178.17|78259.05:78111.80:326.59:179.34:2357.51|78111.80:77964.21:326.59:179.01:2536.52|77964.21:77816.29:326.59:178.67:2715.18|77816.29:77668.03:326.59:178.33:2893.51|77668.03:77519.42:326.59:177.99:3071.50|77519.42:77370.48:326.59:177.65:3249.15|77370.48:77221.19:326.59:177.31:3426.46|77221.19:77071.56:326.59:176.97:3603.42|77071.56:76921.59:326.59:176.62:3780.05|76921.59:76771.28:326.59:176.28:3956.32|76771.28:76620.62:326.59:175.93:4132.26|76620.62:76469.62:326.59:175.59:4307.85|76469.62:76318.27:326.59:175.24:4483.09|76318.27:76166.57:326.59:174.90:4657.99|76166.57:76014.52:326.59:174.55:4832.53|76014.52:75862.13:326.59:174.20:5006.73|75862.13:75709.39:326.59:173.85:5180.58|75709.39:75556.30:326.59:173.50:5354.09|75556.30:75402.85:326.59:173.15:5527.24|75402.85:75249.06:326.59:172.80:5700.03|75249.06:75094.91:326.59:172.45:5872.48|75094.91:74940.41:326.59:172.09:6044.57|74940.41:74785.56:326.59:171.74:6216.31|74785.56:74630.35:326.59:171.38:6387.69|74630.35:74474.78:326.59:171.03:6558.72|74474.78:74318.86:326.59:170.67:6729.39|74318.86:74162.58:326.59:170.31:6899.71|74162.58:74005.95:326.59:169.96:7069.66|74005.95:73848.95:326.59:169.60:7239.26|73848.95:73691.59:326.59:169.24:7408.50|73691.59:73533.88:326.59:168.88:7577.37|73533.88:73375.80:326.59:168.52:7745.89|73375.80:73217.36:326.59:168.15:7914.04|73217.36:73058.56:326.59:167.79:8081.83|73058.56:72899.39:326.59:167.43:8249.26|72899.39:72739.86:326.59:167.06:8416.32|72739.86:72579.96:326.59:166.70:8583.01|72579.96:72419.70:326.59:166.33:8749.34|72419.70:72259.06:326.59:165.96:8915.31|72259.06:72098.07:326.59:165.59:9080.90|72098.07:71936.70:326.59:165.22:9246.12|71936.70:71774.96:326.59:164.85:9410.98|71774.96:71612.85:326.59:164.48:9575.46|71612.85:71450.37:326.59:164.11:9739.58|71450.37:71287.52:326.59:163.74:9903.32|71287.52:71124.29:326.59:163.37:10066.68|71124.29:70960.69:326.59:162.99:10229.68|70960.69:70796.72:326.59:162.62:10392.29|70796.72:70632.37:326.59:162.24:10554.54|70632.37:70467.64:326.59:161.87:10716.40|70467.64:70302.54:326.59:161.49:10877.89|70302.54:70137.05:326.59:161.11:11039.00|70137.05:69971.19:326.59:160.73:11199.73|69971.19:69804.95:326.59:160.35:11360.08|69804.95:69638.32:326.59:159.97:11520.05|69638.32:69471.32:326.59:159.59:11679.64|69471.32:69303.93:326.59:159.21:11838.85|69303.93:69136.16:326.59:158.82:11997.67|69136.16:68968.00:326.59:158.44:12156.10|68968.00:68799.46:326.59:158.05:12314.16|68799.46:68630.54:326.59:157.67:12471.82|68630.54:68461.22:326.59:157.28:12629.10|68461.22:68291.52:326.59:156.89:12785.99|68291.52:68121.43:326.59:156.50:12942.49|68121.43:67950.95:326.59:156.11:13098.60|67950.95:67780.07:326.59:155.72:13254.32|67780.07:67608.81:326.59:155.33:13409.65|67608.81:67437.15:326.59:154.94:13564.59|67437.15:67265.10:326.59:154.54:13719.13|67265.10:67092.66:326.59:154.15:13873.28|67092.66:66919.82:326.59:153.75:14027.04|66919.82:66746.59:326.59:153.36:14180.39|66746.59:66572.95:326.59:152.96:14333.36|66572.95:66398.92:326.59:152.56:14485.92|66398.92:66224.50:326.59:152.16:14638.08|66224.50:66049.67:326.59:151.76:14789.85|66049.67:65874.44:326.59:151.36:14941.21|65874.44:65698.81:326.59:150.96:15092.17|65698.81:65522.77:326.59:150.56:15242.73|65522.77:65346.34:326.59:150.16:15392.89|65346.34:65169.50:326.59:149.75:15542.64|65169.50:64992.25:326.59:149.35:15691.99|64992.25:64814.60:326.59:148.94:15840.93|64814.60:64636.54:326.59:148.53:15989.46|64636.54:64458.07:326.59:148.13:16137.59|64458.07:64279.20:326.59:147.72:16285.30|64279.20:64099.91:326.59:147.31:16432.61|64099.91:63920.21:326.59:146.90:16579.51|63920.21:63740.10:326.59:146.48:16725.99|63740.10:63559.58:326.59:146.07:16872.06|63559.58:63378.64:326.59:145.66:17017.72|63378.64:63197.29:326.59:145.24:17162.96|63197.29:63015.53:326.59:144.83:17307.79|63015.53:62833.35:326.59:144.41:17452.20|62833.35:62650.75:326.59:143.99:17596.19|62650.75:62467.73:326.59:143.57:17739.77|62467.73:62284.29:326.59:143.16:17882.92|62284.29:62100.43:326.59:142.73:18025.66|62100.43:61916.15:326.59:142.31:18167.97|61916.15:61731.45:326.59:141.89:18309.86|61731.45:61546.33:326.59:141.47:18451.33|61546.33:61360.78:326.59:141.04:18592.37|61360.78:61174.80:326.59:140.62:18732.99|61174.80:60988.40:326.59:140.19:18873.18|60988.40:60801.57:326.59:139.77:19012.95|60801.57:60614.32:326.59:139.34:19152.29|60614.32:60426.63:326.59:138.91:19291.19|60426.63:60238.52:326.59:138.48:19429.67|60238.52:60049.97:326.59:138.05:19567.72|60049.97:59860.99:326.59:137.61:19705.33|59860.99:59671.58:326.59:137.18:19842.51|59671.58:59481.74:326.59:136.75:19979.26|59481.74:59291.45:326.59:136.31:20115.57|59291.45:59100.74:326.59:135.88:20251.45|59100.74:58909.58:326.59:135.44:20386.89|58909.58:58717.99:326.59:135.00:20521.89|58717.99:58525.96:326.59:134.56:20656.45|58525.96:58333.49:326.59:134.12:20790.57|58333.49:58140.58:326.59:133.68:20924.25|58140.58:57947.22:326.59:133.24:21057.49|57947.22:57753.43:326.59:132.80:21190.29|57753.43:57559.19:326.59:132.35:21322.64|57559.19:57364.50:326.59:131.91:21454.55|57364.50:57169.37:326.59:131.46:21586.01|57169.37:56973.79:326.59:131.01:21717.02|56973.79:56777.76:326.59:130.56:21847.59|56777.76:56581.28:326.59:130.12:21977.70|56581.28:56384.35:326.59:129.67:22107.37|56384.35:56186.98:326.59:129.21:22236.58|56186.98:55989.14:326.59:128.76:22365.34|55989.14:55790.86:326.59:128.31:22493.65|55790.86:55592.12:326.59:127.85:22621.51|55592.12:55392.93:326.59:127.40:22748.90|55392.93:55193.28:326.59:126.94:22875.85|55193.28:54993.17:326.59:126.48:23002.33|54993.17:54792.60:326.59:126.03:23128.36|54792.60:54591.57:326.59:125.57:23253.92|54591.57:54390.09:326.59:125.11:23379.03|54390.09:54188.14:326.59:124.64:23503.67|54188.14:53985.73:326.59:124.18:23627.85|53985.73:53782.85:326.59:123.72:23751.57|53782.85:53579.51:326.59:123.25:23874.82|53579.51:53375.70:326.59:122.79:23997.61|53375.70:53171.43:326.59:122.32:24119.93|53171.43:52966.69:326.59:121.85:24241.78|52966.69:52761.48:326.59:121.38:24363.16|52761.48:52555.80:326.59:120.91:24484.07|52555.80:52349.64:326.59:120.44:24604.51|52349.64:52143.02:326.59:119.97:24724.48|52143.02:51935.92:326.59:119.49:24843.98|51935.92:51728.35:326.59:119.02:24963.00|51728.35:51520.30:326.59:118.54:25081.54|51520.30:51311.77:326.59:118.07:25199.61|51311.77:51102.77:326.59:117.59:25317.20|51102.77:50893.29:326.59:117.11:25434.31|50893.29:50683.32:326.59:116.63:25550.94|50683.32:50472.88:326.59:116.15:25667.09|50472.88:50261.95:326.59:115.67:25782.75|50261.95:50050.54:326.59:115.18:25897.94|50050.54:49838.65:326.59:114.70:26012.64|49838.65:49626.27:326.59:114.21:26126.85|49626.27:49413.41:326.59:113.73:26240.58|49413.41:49200.05:326.59:113.24:26353.82|49200.05:48986.21:326.59:112.75:26466.57|48986.21:48771.88:326.59:112.26:26578.83|48771.88:48557.05:326.59:111.77:26690.60|48557.05:48341.74:326.59:111.28:26801.87|48341.74:48125.93:326.59:110.78:26912.66|48125.93:47909.62:326.59:110.29:27022.94|47909.62:47692.82:326.59:109.79:27132.74|47692.82:47475.52:326.59:109.30:27242.03|47475.52:47257.73:326.59:108.80:27350.83|47257.73:47039.44:326.59:108.30:27459.13|47039.44:46820.64:326.59:107.80:27566.93|46820.64:46601.35:326.59:107.30:27674.23|46601.35:46381.55:326.59:106.79:27781.02|46381.55:46161.25:326.59:106.29:27887.31|46161.25:45940.44:326.59:105.79:27993.10|45940.44:45719.13:326.59:105.28:28098.38|45719.13:45497.31:326.59:104.77:28203.15|45497.31:45274.98:326.59:104.26:28307.42|45274.98:45052.14:326.59:103.76:28411.17|45052.14:44828.79:326.59:103.24:28514.42|44828.79:44604.93:326.59:102.73:28617.15|44604.93:44380.56:326.59:102.22:28719.37|44380.56:44155.67:326.59:101.71:28821.07|44155.67:43930.27:326.59:101.19:28922.26|43930.27:43704.35:326.59:100.67:29022.94|43704.35:43477.91:326.59:100.16:29123.09|43477.91:43250.95:326.59:99.64:29222.73|43250.95:43023.48:326.59:99.12:29321.85|43023.48:42795.48:326.59:98.60:29420.44|42795.48:42566.96:326.59:98.07:29518.51|42566.96:42337.92:326.59:97.55:29616.06|42337.92:42108.35:326.59:97.02:29713.09|42108.35:41878.25:326.59:96.50:29809.59|41878.25:41647.63:326.59:95.97:29905.56|41647.63:41416.48:326.59:95.44:30001.00|41416.48:41184.80:326.59:94.91:30095.91|41184.80:40952.59:326.59:94.38:30190.30|40952.59:40719.85:326.59:93.85:30284.14|40719.85:40486.57:326.59:93.32:30377.46|40486.57:40252.76:326.59:92.78:30470.24|40252.76:40018.41:326.59:92.25:30562.49|40018.41:39783.53:326.59:91.71:30654.20|39783.53:39548.11:326.59:91.17:30745.37|39548.11:39312.14:326.59:90.63:30836.00|39312.14:39075.64:326.59:90.09:30926.09|39075.64:38838.60:326.59:89.55:31015.64|38838.60:38601.01:326.59:89.01:31104.64|38601.01:38362.88:326.59:88.46:31193.10|38362.88:38124.20:326.59:87.91:31281.02|38124.20:37884.97:326.59:87.37:31368.39|37884.97:37645.20:326.59:86.82:31455.21|37645.20:37404.88:326.59:86.27:31541.48|37404.88:37164.00:326.59:85.72:31627.20|37164.00:36922.58:326.59:85.17:31712.36|36922.58:36680.60:326.59:84.61:31796.98|36680.60:36438.07:326.59:84.06:31881.04|36438.07:36194.98:326.59:83.50:31964.54|36194.98:35951.33:326.59:82.95:32047.49|35951.33:35707.13:326.59:82.39:32129.88|35707.13:35462.36:326.59:81.83:32211.71|35462.36:35217.04:326.59:81.27:32292.97|35217.04:34971.15:326.59:80.71:32373.68|34971.15:34724.70:326.59:80.14:32453.82|34724.70:34477.69:326.59:79.58:32533.40|34477.69:34230.10:326.59:79.01:32612.41|34230.10:33981.95:326.59:78.44:32690.85|33981.95:33733.24:326.59:77.88:32768.73|33733.24:33483.95:326.59:77.31:32846.03|33483.95:33234.09:326.59:76.73:32922.77|33234.09:32983.66:326.59:76.16:32998.93|32983.66:32732.65:326.59:75.59:33074.52|32732.65:32481.07:326.59:75.01:33149.53|32481.07:32228.92:326.59:74.44:33223.97|32228.92:31976.18:326.59:73.86:33297.82|31976.18:31722.87:326.59:73.28:33371.10|31722.87:31468.97:326.59:72.70:33443.80|31468.97:31214.50:326.59:72.12:33515.92|31214.50:30959.44:326.59:71.53:33587.45|30959.44:30703.79:326.59:70.95:33658.40|30703.79:30447.56:326.59:70.36:33728.76|30447.56:30190.74:326.59:69.78:33798.54|30190.74:29933.34:326.59:69.19:33867.72|29933.34:29675.34:326.59:68.60:33936.32|29675.34:29416.76:326.59:68.01:34004.33|29416.76:29157.58:326.59:67.41:34071.74|29157.58:28897.80:326.59:66.82:34138.56|28897.80:28637.43:326.59:66.22:34204.79|28637.43:28376.47:326.59:65.63:34270.41|28376.47:28114.90:326.59:65.03:34335.44|28114.90:27852.74:326.59:64.43:34399.87|27852.74:27589.98:326.59:63.83:34463.70|27589.98:27326.61:326.59:63.23:34526.93|27326.61:27062.64:326.59:62.62:34589.55|27062.64:26798.07:326.59:62.02:34651.57|26798.07:26532.89:326.59:61.41:34712.98|26532.89:26267.10:326.59:60.80:34773.79|26267.10:26000.70:326.59:60.20:34833.98|26000.70:25733.69:326.59:59.58:34893.57|25733.69:25466.07:326.59:58.97:34952.54|25466.07:25197.84:326.59:58.36:35010.90|25197.84:24928.99:326.59:57.75:35068.65|24928.99:24659.53:326.59:57.13:35125.77|24659.53:24389.45:326.59:56.51:35182.29|24389.45:24118.75:326.59:55.89:35238.18|24118.75:23847.43:326.59:55.27:35293.45|23847.43:23575.48:326.59:54.65:35348.10|23575.48:23302.92:326.59:54.03:35402.13|23302.92:23029.73:326.59:53.40:35455.53|23029.73:22755.91:326.59:52.78:35508.31|22755.91:22481.47:326.59:52.15:35560.46|22481.47:22206.39:326.59:51.52:35611.98|22206.39:21930.69:326.59:50.89:35662.87|21930.69:21654.36:326.59:50.26:35713.12|21654.36:21377.39:326.59:49.62:35762.75|21377.39:21099.78:326.59:48.99:35811.74|21099.78:20821.54:326.59:48.35:35860.09|20821.54:20542.67:326.59:47.72:35907.81|20542.67:20263.15:326.59:47.08:35954.88|20263.15:19982.99:326.59:46.44:36001.32|19982.99:19702.20:326.59:45.79:36047.11|19702.20:19420.75:326.59:45.15:36092.27|19420.75:19138.67:326.59:44.51:36136.77|19138.67:18855.93:326.59:43.86:36180.63|18855.93:18572.55:326.59:43.21:36223.84|18572.55:18288.52:326.59:42.56:36266.40|18288.52:18003.84:326.59:41.91:36308.32|18003.84:17718.51:326.59:41.26:36349.57|17718.51:17432.52:326.59:40.60:36390.18|17432.52:17145.87:326.59:39.95:36430.13|17145.87:16858.57:326.59:39.29:36469.42|16858.57:16570.61:326.59:38.63:36508.06|16570.61:16282.00:326.59:37.97:36546.03|16282.00:15992.72:326.59:37.31:36583.34|15992.72:15702.77:326.59:36.65:36619.99|15702.77:15412.17:326.59:35.99:36655.98|15412.17:15120.89:326.59:35.32:36691.30|15120.89:14828.95:326.59:34.65:36725.95|14828.95:14536.34:326.59:33.98:36759.93|14536.34:14243.06:326.59:33.31:36793.25|14243.06:13949.11:326.59:32.64:36825.89|13949.11:13654.48:326.59:31.97:36857.85|13654.48:13359.18:326.59:31.29:36889.14|13359.18:13063.20:326.59:30.61:36919.76|13063.20:12766.55:326.59:29.94:36949.70|12766.55:12469.21:326.59:29.26:36978.95|12469.21:12171.19:326.59:28.58:37007.53|12171.19:11872.49:326.59:27.89:37035.42|11872.49:11573.11:326.59:27.21:37062.63|11573.11:11273.04:326.59:26.52:37089.15|11273.04:10972.28:326.59:25.83:37114.98|10972.28:10670.83:326.59:25.14:37140.13|10670.83:10368.69:326.59:24.45:37164.58|10368.69:10065.86:326.59:23.76:37188.34|10065.86:9762.33:326.59:23.07:37211.41|9762.33:9458.11:326.59:22.37:37233.78|9458.11:9153.19:326.59:21.67:37255.46|9153.19:8847.58:326.59:20.98:37276.43|8847.58:8541.26:326.59:20.28:37296.71|8541.26:8234.24:326.59:19.57:37316.28|8234.24:7926.52:326.59:18.87:37335.15|7926.52:7618.09:326.59:18.16:37353.32|7618.09:7308.95:326.59:17.46:37370.78|7308.95:6999.11:326.59:16.75:37387.53|6999.11:6688.56:326.59:16.04:37403.57|6688.56:6377.29:326.59:15.33:37418.89|6377.29:6065.31:326.59:14.61:37433.51|6065.31:5752.62:326.59:13.90:37447.41|5752.62:5439.21:326.59:13.18:37460.59|5439.21:5125.08:326.59:12.46:37473.06|5125.08:4810.24:326.59:11.74:37484.80|4810.24:4494.67:326.59:11.02:37495.82|4494.67:4178.37:326.59:10.30:37506.13|4178.37:3861.36:326.59:9.58:37515.70|3861.36:3543.61:326.59:8.85:37524.55|3543.61:3225.14:326.59:8.12:37532.67|3225.14:2905.94:326.59:7.39:37540.06|2905.94:2586.00:326.59:6.66:37546.72|2586.00:2265.34:326.59:5.93:37552.65|2265.34:1943.94:326.59:5.19:37557.84|1943.94:1621.80:326.59:4.45:37562.29|1621.80:1298.92:326.59:3.72:37566.01|1298.92:975.31:326.59:2.98:37568.99|975.31:650.95:326.59:2.24:37571.22|650.95:325.85:326.59:1.49:37572.71|325.85:-0.00:326.59:0.75:37573.46|\";cstartmonth=11;cstartyear=2020;monthlypayment=326.59294479908;cloanterm=30;cloanamount=80000;remainingTerm=0;biggestItem=359;\r\nvar chartStrBuilderPayment = [];\r\nvar chartStrBuilderBalance = [];\r\nvar chartStrBuilderInterest = [];\r\nxmax = cloanterm;\r\nchartSep = 12;\r\nif (cloanterm<=5){\r\n\tchartSep = 1;\r\n\txmax = cloanterm*12;\r\n\r\n\tchartStrBuilderPayment.push(0);\r\n\tchartStrBuilderBalance.push(cloanamount);\r\n\tchartStrBuilderInterest.push(0);\r\n}\r\nvar allDataArray = allData.split(\"|\");\r\noutPutData = new Array();\r\nfor (var i=0;i<allDataArray.length;i++){\r\n\tif ((allDataArray[i]+\"\").length>3){\r\n\t\ttempArray = allDataArray[i].split(\":\");\r\n\t\toutPutData[i] = new Array();\r\n\t\toutPutData[i][0] = parseFloat(tempArray[0]);\r\n\t\toutPutData[i][1] = parseFloat(tempArray[1]);\r\n\t\toutPutData[i][2] = parseFloat(tempArray[2]);\r\n\t\toutPutData[i][3] = parseFloat(tempArray[3]);\r\n\t\toutPutData[i][4] = parseFloat(tempArray[4]);\r\n\r\n\t\tif (((i%chartSep)==0)||((i+2)==allDataArray.length)){\r\n\t\t\tchartStrBuilderPayment.push((i+1)*monthlypayment);\r\n\t\t\tchartStrBuilderBalance.push(outPutData[i][1]);\r\n\t\t\tchartStrBuilderInterest.push(outPutData[i][4]);\r\n\t\t}\r\n\t}\r\n}\r\nhideDate = 0;\r\nif (cloanterm>5){\r\n\tshowAmo(0);\r\n}else{\r\n\tshowAmo(1);\r\n}\r\nvar tempVal = 45;\r\n$(function () {\r\n\t$('#cpiechartdiv').highcharts({\r\n\t\ttitle: {text: ''},\r\n\t\ttooltip: {formatter: function() {return this.point.name + '<br><b>'+ this.percentage.toFixed(1) +' %</b><br>$'+ this.y;}},\r\n\t\tplotOptions: {pie: {allowPointSelect: true,cursor: 'pointer',showInLegend: true,center: [\"50%\", \"18%\"],\r\n\t\t\tdataLabels: {color: '#eeeeee',connectorColor: '#FFFFFF',connectorPadding:-55,distance:-12,softConnector: false,formatter: function() {return this.percentage.toFixed(0) +'%';}}\r\n\t\t}},\r\n\t\tlegend: {\r\n\t\t\tlayout: 'vertical',\r\n\t\t\ty:0,\t\t\tfloating:true\r\n\t\t},\r\n\t\tseries: [{\r\n\t\t\ttype: 'pie',\r\n\t\t\tname: 'Share',\r\n\t\t\tdata: [['Principal',80000],['Interest',37573],['Property Taxes',34500],['Home Insurance',6600],['HOA Fee',3600]]\r\n\t\t}]\r\n\t});\r\n});\r\n$(function () {\r\n\t$('#cchartdiv').highcharts({\r\n\t\tchart: {type: 'spline',plotBorderWidth: 1},\r\n\t\ttitle: {text: ''},\r\n\t\txAxis: {min: 0, max:xmax, title: {text: ''},gridLineWidth: 1,\r\n\t\t\tlabels: {\r\n\t\t\t\tformatter: function() {\r\n\t\t\t\t\tif (cloanterm<=5){\r\n\t\t\t\t\t\treturn this.value+'mo';\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn this.value+'yr';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tyAxis: {\r\n\t\t\tmin: 0,title: {text: ''},gridLineWidth: 1,\r\n\t\t\tlabels: {\r\n\t\t\t\tformatter: function() {\r\n\t\t\t\t\ttempVal = this.value;\r\n\t\t\t\t\tif (this.value>999) tempVal = (this.value/1000).toFixed(1) + 'K';\r\n\t\t\t\t\tif (this.value>999999) tempVal = (this.value/1000000).toFixed(1) + 'M';\r\n\t\t\t\t\treturn '$'+tempVal;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\ttooltip: {enabled: false,formatter: function() {return this.series.name+': $' + this.y;}},\r\n\t\tplotOptions: {spline: {lineWidth: 4,states: {hover: {lineWidth: 3}},marker: {enabled: false}}},\r\n\t\tlegend: {layout: 'vertical',align: 'left',verticalAlign: 'top',floating: true,backgroundColor: '#FCFFC5',borderWidth: 1,x: 55,y: 3},\r\n\t\tseries: [\r\n\t\t\t{name: 'Balance',data: chartStrBuilderBalance},\r\n\t\t\t{name: 'Interest',data: chartStrBuilderInterest},\r\n\t\t\t{name: 'Payment',data: chartStrBuilderPayment}\r\n\t\t]\r\n\t});\r\n});\r\n\r\n</script>\r\n</div>\r\n\t<div id=\"right\">\r\n\t\t<div style=\"padding-top:10px;text-align:center;\">\r\n<script async src=\"https://securepubads.g.doubleclick.net/tag/js/gpt.js\"></script>\r\n<script>\r\n  window.googletag = window.googletag || {cmd: []};\r\n  googletag.cmd.push(function() {\r\n\tgoogletag.defineSlot('/1057446/Calculator-Top-Right-Desktop', [[300, 250], [336, 280]], 'div-gpt-ad-1589567013929-0').addService(googletag.pubads());\r\n\tgoogletag.pubads().enableSingleRequest();\r\n\tgoogletag.enableServices();\r\n  });\r\n</script>\r\n<!-- /1057446/Calculator-Top-Right-Desktop -->\r\n<div id='div-gpt-ad-1589567013929-0'>\r\n  <script>\r\n    googletag.cmd.push(function() { googletag.display('div-gpt-ad-1589567013929-0'); });\r\n  </script>\r\n</div>\r\n</div>\r\n<table align=\"center\" id=\"searchbox\"><form name=\"calcSearchForm\" onsubmit=\"calcSearch(); return false;\" autocomplete=\"off\"><tr><td><input type=\"text\" name=\"calcSearchTerm\" id=\"calcSearchTerm\" class=\"inlongest\" onkeyup=\"return calcSearch();\"></td><td><span id=\"bluebtn\" onClick=\"return calcSearch();\">Search</span></td></tr><tr><td colspan=\"2\"><div id=\"calcSearchOut\"></div></td></tr></form></table><div id=\"othercalc\"><div id=\"octitle\"><a href=\"/financial-calculator.html\">Financial Calculators</a></div><div id=\"occontent\"><a href=\"/mortgage-calculator.html\">Mortgage</a><a href=\"/loan-calculator.html\">Loan</a><a href=\"/auto-loan-calculator.html\">Auto Loan</a><a href=\"/interest-calculator.html\">Interest</a><a href=\"/payment-calculator.html\">Payment</a><a href=\"/retirement-calculator.html\">Retirement</a><a href=\"/amortization-calculator.html\">Amortization</a><a href=\"/investment-calculator.html\">Investment</a><a href=\"/currency-calculator.html\">Currency</a><a href=\"/inflation-calculator.html\">Inflation</a><a href=\"/finance-calculator.html\">Finance</a><a href=\"/mortgage-payoff-calculator.html\">Mortgage Payoff</a><a href=\"/tax-calculator.html\">Income Tax</a><a href=\"/compound-interest-calculator.html\">Compound Interest</a><a href=\"/salary-calculator.html\">Salary</a><a href=\"/401k-calculator.html\">401K</a><a href=\"/interest-rate-calculator.html\">Interest Rate</a><a href=\"/sales-tax-calculator.html\">Sales Tax</a><a href=\"/financial-calculator.html\">More Financial Calculators</a></div><div id=\"ocother\"><a href=\"/financial-calculator.html\">Financial</a> | <a href=\"/fitness-and-health-calculator.html\">Fitness and Health</a> | <a href=\"/math-calculator.html\">Math</a> | <a href=\"/other-calculator.html\">Other</a></div></div>\t</div>\r\n</div>\r\n<div id=\"clear\"></div>\r\n<div id=\"footer\"><div id=\"footerin\"><div id=\"footernav\"><a href=\"/about-us.html\">about us</a> | <a href=\"/sitemap.html\">sitemap</a> | <a href=\"/about-us.html#terms\">terms of use</a> | <a href=\"/about-us.html#privacy\">privacy policy</a> &nbsp;  &copy; 2008 - 2021 <a href=\"//www.calculator.net\">calculator.net</a></div></div></div>\r\n<script type=\"text/javascript\">\r\nvar _gaq = _gaq || [];\r\n_gaq.push(['_setAccount', 'UA-3068863-11']);\r\n_gaq.push(['_trackPageview','/mortgage-calculator.html?chouseprice=100000&cdownpayment=20.00&cdownpaymentunit=p&cloanterm=30&cinterestrate=2.75&cstartmonth=11&cstartyear=2020&caddoptional=1&cpropertytaxes=1.15&cpropertytaxesunit=p&chomeins=0.22&chomeinsunit=p&cpmi=0&cpmiunit=d&choa=120.00&choaunit=d&cothercost=0&cothercostunit=d&cmop=0&cptinc=0&chiinc=0&choainc=0&cocinc=0&cexma=0&cexmsm=11&cexmsy=2020&cexya=0&cexysm=11&cexysy=2020&cexoa=0&cexosm=11&cexosy=2020&caot=0&xa1=0&xm1=11&xy1=2020&xa2=0&xm2=11&xy2=2020&xa3=0&xm3=11&xy3=2020&xa4=0&xm4=11&xy4=2020&xa5=0&xm5=11&xy5=2020&xa6=0&xm6=11&xy6=2020&xa7=0&xm7=11&xy7=2020&xa8=0&xm8=11&xy8=2020&xa9=0&xm9=11&xy9=2020&xa10=0&xm10=11&xy10=2020&csbw=1&printit=0&x=59&y=18_____Section_1_US__do']);\r\n(function() {\r\n\tvar ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\r\n\tga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\r\n\t(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);\r\n})();\r\n</script>\r\n<script async>showTopNav(1);</script></body>\r\n</html>\r\n";
            }
            public IEnumerator<object[]> GetEnumerator()
            {
                yield return new object[]
                {
                    "Base case",
                    GetBaseCaseTestDataHtml(),
                    new MortgageCalculationResult(new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    })
                    {
                        DownPayment = 20000.00M,
                        HomeownersInsurancePaymentMonthly = 18.33M,
                        MortgagePaymentyMonthly = 326.59M,
                        PropertyTaxPaymentMonthly = 95.83M,
                        TermInterestPaid = 37573.46M
                    }
                };
                yield return new object[]
                {
                    "Base case with HOA",
                    GetBaseCaseWithHoATestCaseDataHtml(),
                    new MortgageCalculationResult(new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 10.00M,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    })
                    {
                        DownPayment = 20000.00M,
                        HomeownersInsurancePaymentMonthly = 18.33M,
                        MortgagePaymentyMonthly = 326.59M,
                        PropertyTaxPaymentMonthly = 95.83M,
                        TermInterestPaid = 37573.46M
                    }
                };
            }

            IEnumerator IEnumerable.GetEnumerator() => GetEnumerator();
        }

        private class CalculatorNetCalculatorValidationFailureTestData : IEnumerable<object[]>
        {
            public IEnumerator<object[]> GetEnumerator()
            {
                yield return new object[]
                {
                    "APR validation failure, value is 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 0M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'APR' must be greater than '0.00'."
                    }
                };
                yield return new object[]
                {
                    "APR validation failure, value is less than 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 0M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'APR' must be greater than '0.00'."
                    }
                };
                yield return new object[]
                {
                    "DownPaymentPercent validation failure, value is 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 0.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Down Payment Percent' must be between 0.00 and 100 (exclusive). You entered 0.00."
                    }
                };
                yield return new object[]
                {
                    "DownPaymentPercent validation failure, value is less than 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = -0.01M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Down Payment Percent' must be between 0.00 and 100 (exclusive). You entered -0.01."
                    }
                };
                yield return new object[]
                {
                    "DownPaymentPercent validation failure, value is 100",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 100.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Down Payment Percent' must be between 0.00 and 100 (exclusive). You entered 100.00."
                    }
                };
                yield return new object[]
                {
                    "DownPaymentPercent validation failure, value is greater than 100",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 100.01M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Down Payment Percent' must be between 0.00 and 100 (exclusive). You entered 100.01."
                    }
                };
                yield return new object[]
                {
                    "HOAMonthly validation failure, value is less than 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = -0.01M,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'HOA Monthly' must be greater than or equal to '0.00'."
                    }
                };
                yield return new object[]
                {
                    "HomeownerInsuranceRate validation failure, value is 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.00M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Homeowner Insurance Rate' must be greater than '0.00'."
                    }
                };
                yield return new object[]
                {
                    "HomeownerInsuranceRate validation failure, value is less than 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = -0.01M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Homeowner Insurance Rate' must be greater than '0.00'."
                    }
                };
                yield return new object[]
                {
                    "LoanTermYears validation failure, value is 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 0,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Loan Term Years' must be greater than '0'."
                    }
                };
                yield return new object[]
                {
                    "LoanTermYears validation failure, value is less than 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = -1,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Loan Term Years' must be greater than '0'."
                    }
                };
                yield return new object[]
                {
                    "PropertyTaxRate validation failure, value is 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 0.00M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Property Tax Rate' must be greater than '0.00'."
                    }
                };
                yield return new object[]
                {
                    "PropertyTaxRate validation failure, value is less than 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = -0.01M,
                        PurchasePrice = 100000.00M
                    },
                    new List<string>()
                    {
                        "'Property Tax Rate' must be greater than '0.00'."
                    }
                };
                yield return new object[]
                {
                    "PurchasePrice validation failure, value is 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = 0.00M
                    },
                    new List<string>()
                    {
                        "'Purchase Price' must be greater than '0.00'."
                    }
                };
                yield return new object[]
                {
                    "PurchasePrice validation failure, value is less than 0",
                    new MortgageCalculationRequest()
                    {
                        APR = 2.75M,
                        DownPaymentPercent = 20.00M,
                        HOAMonthly = 0,
                        HomeownerInsuranceRate = 0.22M,
                        LoanTermYears = 30,
                        PropertyTaxRate = 1.15M,
                        PurchasePrice = -0.01M
                    },
                    new List<string>()
                    {
                        "'Purchase Price' must be greater than '0.00'."
                    }
                };
            }

            IEnumerator IEnumerable.GetEnumerator() => GetEnumerator();
        }

        private void SetupHttpClientProvider(string html)
        {
            _httpClientProvider = new HttpClientProvider();
            var httpMessageHandler = new Mock<HttpMessageHandler>();
            httpMessageHandler.Protected()
                .Setup<Task<HttpResponseMessage>>(
                    "SendAsync",
                    ItExpr.IsAny<HttpRequestMessage>(),
                    ItExpr.IsAny<CancellationToken>()
                )
                .ReturnsAsync((HttpRequestMessage request, CancellationToken token) =>
                {
                    HttpResponseMessage response = new HttpResponseMessage();
                    response.StatusCode = HttpStatusCode.OK;
                    response.Content = new StringContent(html);
                    response.Content.Headers.ContentType = new MediaTypeHeaderValue("text/html");
                    response.Content.Headers.ContentType.CharSet = Encoding.UTF8.HeaderName;
                    return response;
                });
            var httpClient = new HttpClient(httpMessageHandler.Object);
            httpClient.BaseAddress = new Uri("http://localhost:9999/");
            _httpClientProvider.HttpClient = httpClient;
        }
    }
}
